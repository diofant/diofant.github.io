<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Printing &mdash; Diofant 0.14.0a8.dev55+g278f5fb4c documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script>window.MathJax = {"CommonHTML": {"linebreaks": {"automatic": true}}, "HTML-CSS": {"linebreaks": {"automatic": true}}, "SVG": {"linebreaks": {"automatic": true}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Interactive" href="interactive.html" />
    <link rel="prev" title="Polynomials" href="polys.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command-Line Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="config.html">Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="combinatorics/index.html">Combinatorics</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntheory.html">Number Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="concrete.html">Concrete Mathematics</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/index.html">Mathematical Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrals.html">Integrals</a></li>
<li class="toctree-l2"><a class="reference internal" href="logic.html">Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="domains.html">Domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="matrices/index.html">Matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="polys.html">Polynomials</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Printing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.printer">Printer Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prettyprinter-class">PrettyPrinter Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.ccode">CCodePrinter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fortran-printing">Fortran Printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.mathematica">Mathematica code printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.lambdarepr">LambdaPrinter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.latex">LatexPrinter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.mathml">MathMLPrinter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.python">PythonPrinter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.repr">ReprPrinter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.str">StrPrinter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.conventions">Implementation - Helper Classes/Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-diofant.printing.codeprinter">CodePrinter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-diofant.printing.precedence">Precedence</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-diofant.printing.pretty.pretty_symbology">Pretty-Printing Implementation Helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dotprint">dotprint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="interactive.html">Interactive</a></li>
<li class="toctree-l2"><a class="reference internal" href="sets.html">Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="simplify/simplify.html">Simplify</a></li>
<li class="toctree-l2"><a class="reference internal" href="solvers/index.html">Solvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="tensor/index.html">Tensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="parsing.html">Parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="calculus/index.html">Calculus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../internals/index.html">Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aboutus.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sources.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Diofant</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Reference</a></li>
      <li class="breadcrumb-item active">Printing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/printing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-diofant.printing">
<span id="printing"></span><h1>Printing<a class="headerlink" href="#module-diofant.printing" title="Permalink to this heading"></a></h1>
<p>See the <a class="reference internal" href="../tutorial/printing.html#tutorial-printing"><span class="std std-ref">Printing</span></a> section in Tutorial for introduction into
printing.</p>
<p>This guide documents the printing system in Diofant and how it works
internally.</p>
<section id="module-diofant.printing.printer">
<span id="printer-class"></span><h2>Printer Class<a class="headerlink" href="#module-diofant.printing.printer" title="Permalink to this heading"></a></h2>
<p>Printing subsystem driver</p>
<p>Diofant’s printing system works the following way: Any expression can be
passed to a designated Printer who then is responsible to return an
adequate representation of that expression.</p>
<dl class="simple">
<dt>The basic concept is the following:</dt><dd><ol class="arabic simple">
<li><p>Let the object print itself if it knows how.</p></li>
<li><p>Take the best fitting method defined in the printer.</p></li>
<li><p>As fall-back use the emptyPrinter method for the printer.</p></li>
</ol>
</dd>
</dl>
<p>Some more information how the single concepts work and who should use which:</p>
<ol class="arabic">
<li><p>The object prints itself</p>
<blockquote>
<div><p>This was the original way of doing printing in diofant. Every class had
its own latex, mathml, str and repr methods, but it turned out that it
is hard to produce a high quality printer, if all the methods are spread
out that far. Therefore all printing code was combined into the different
printers, which works great for built-in diofant objects, but not that
good for user defined classes where it is inconvenient to patch the
printers.</p>
<p>Nevertheless, to get a fitting representation, the printers look for a
specific method in every object, that will be called if it’s available
and is then responsible for the representation. The name of that method
depends on the specific printer and is defined under
Printer.printmethod.</p>
</div></blockquote>
</li>
<li><p>Take the best fitting method defined in the printer.</p>
<blockquote>
<div><p>The printer loops through expr classes (class + its bases), and tries
to dispatch the work to _print_&lt;EXPR_CLASS&gt;</p>
<p>e.g., suppose we have the following class hierarchy:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">Basic</span>
    <span class="o">|</span>
    <span class="n">Atom</span>
    <span class="o">|</span>
    <span class="n">Number</span>
    <span class="o">|</span>
<span class="n">Rational</span>
</pre></div>
</div>
<p>then, for expr=Rational(…), in order to dispatch, we will try
calling printer methods as shown in the figure below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>p._print(expr)
|
|-- p._print_Rational(expr)
|
|-- p._print_Number(expr)
|
|-- p._print_Atom(expr)
|
`-- p._print_Basic(expr)
</pre></div>
</div>
<p>if ._print_Rational method exists in the printer, then it is called,
and the result is returned back.</p>
<p>otherwise, we proceed with trying Rational bases in the inheritance
order.</p>
</div></blockquote>
</li>
<li><p>As fall-back use the emptyPrinter method for the printer.</p>
<blockquote>
<div><p>As fall-back self.emptyPrinter will be called with the expression. If
not defined in the Printer subclass this will be the same as str(expr).</p>
</div></blockquote>
</li>
</ol>
<p>The main class responsible for printing is <code class="docutils literal notranslate"><span class="pre">Printer</span></code> (see also its
<a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/printer.py">source code</a>):</p>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.printer.Printer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.printer.</span></span><span class="sig-name descname"><span class="pre">Printer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/printer.py#L71-L216"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.printer.Printer" title="Permalink to this definition"></a></dt>
<dd><p>Generic printer</p>
<p>Its job is to provide infrastructure for implementing new printers easily.</p>
<p>Basically, if you want to implement a printer, all you have to do is:</p>
<ol class="arabic">
<li><p>Subclass Printer.</p></li>
<li><p>Define Printer.printmethod in your subclass.
If a object has a method with that name, this method will be used
for printing.</p></li>
<li><p>In your subclass, define <code class="docutils literal notranslate"><span class="pre">_print_&lt;CLASS&gt;</span></code> methods</p>
<p>For each class you want to provide printing to, define an appropriate
method how to do it. For example if you want a class FOO to be printed in
its own way, define _print_FOO:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_print_FOO</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>this should return how FOO instance e is printed</p>
<p>Also, if <code class="docutils literal notranslate"><span class="pre">BAR</span></code> is a subclass of <code class="docutils literal notranslate"><span class="pre">FOO</span></code>, <code class="docutils literal notranslate"><span class="pre">_print_FOO(bar)</span></code> will
be called for instance of <code class="docutils literal notranslate"><span class="pre">BAR</span></code>, if no <code class="docutils literal notranslate"><span class="pre">_print_BAR</span></code> is provided.
Thus, usually, we don’t need to provide printing routines for every
class we want to support – only generic routine has to be provided
for a set of classes.</p>
<p>A good example for this are functions - for example <code class="docutils literal notranslate"><span class="pre">PrettyPrinter</span></code>
only defines <code class="docutils literal notranslate"><span class="pre">_print_Function</span></code>, and there is no <code class="docutils literal notranslate"><span class="pre">_print_sin</span></code>,
<code class="docutils literal notranslate"><span class="pre">_print_tan</span></code>, etc…</p>
<p>On the other hand, a good printer will probably have to define
separate routines for <code class="docutils literal notranslate"><span class="pre">Symbol</span></code>, <code class="docutils literal notranslate"><span class="pre">Atom</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Integral</span></code>,
<code class="docutils literal notranslate"><span class="pre">Limit</span></code>, etc…</p>
</li>
<li><p>If convenient, override <code class="docutils literal notranslate"><span class="pre">self.emptyPrinter</span></code></p>
<p>This callable will be called to obtain printing result as a last resort,
that is when no appropriate print method was found for an expression.</p>
</li>
</ol>
<p class="rubric">Examples</p>
<p>Here we will overload <code class="docutils literal notranslate"><span class="pre">StrPrinter</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.printing.str</span> <span class="kn">import</span> <span class="n">StrPrinter</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CustomStrPrinter</span><span class="p">(</span><span class="n">StrPrinter</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">_print_Derivative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>  <span class="c1"># noqa: N802</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">func</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">mystr</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">CustomStrPrinter</span><span class="p">()</span><span class="o">.</span><span class="n">doprint</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mystr</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">((</span><span class="n">t</span><span class="p">,</span> <span class="mi">2</span><span class="p">))))</span>
<span class="go">f&#39;&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.printer.Printer.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#diofant.printing.printer.Printer.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.printer.Printer._print">
<span class="sig-name descname"><span class="pre">_print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/printer.py#L185-L216"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.printer.Printer._print" title="Permalink to this definition"></a></dt>
<dd><p>Internal dispatcher</p>
<dl class="simple">
<dt>Tries the following concepts to print an expression:</dt><dd><ol class="arabic simple">
<li><p>Let the object print itself if it knows how.</p></li>
<li><p>Take the best fitting method defined in the printer.</p></li>
<li><p>As fall-back use the emptyPrinter method for the printer.</p></li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.printer.Printer.doprint">
<span class="sig-name descname"><span class="pre">doprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/printer.py#L181-L183"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.printer.Printer.doprint" title="Permalink to this definition"></a></dt>
<dd><p>Returns printer’s representation for expr (as a string).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.printer.Printer.set_global_settings">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_global_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/printer.py#L168-L173"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.printer.Printer.set_global_settings" title="Permalink to this definition"></a></dt>
<dd><p>Set system-wide printing settings.</p>
</dd></dl>

</dd></dl>

</section>
<section id="prettyprinter-class">
<h2>PrettyPrinter Class<a class="headerlink" href="#prettyprinter-class" title="Permalink to this heading"></a></h2>
<p>The pretty printing subsystem is implemented in <code class="docutils literal notranslate"><span class="pre">diofant.printing.pretty.pretty</span></code>
by the <code class="docutils literal notranslate"><span class="pre">PrettyPrinter</span></code> class deriving from <code class="docutils literal notranslate"><span class="pre">Printer</span></code>. It relies on
the modules <code class="docutils literal notranslate"><span class="pre">diofant.printing.pretty.stringPict</span></code>, and
<code class="docutils literal notranslate"><span class="pre">diofant.printing.pretty.pretty_symbology</span></code> for rendering nice-looking
formulas.</p>
<p>The module <code class="docutils literal notranslate"><span class="pre">stringPict</span></code> provides a base class <code class="docutils literal notranslate"><span class="pre">stringPict</span></code> and a derived
class <code class="docutils literal notranslate"><span class="pre">prettyForm</span></code> that ease the creation and manipulation of formulas
that span across multiple lines.</p>
<p>The module <code class="docutils literal notranslate"><span class="pre">pretty_symbology</span></code> provides primitives to construct 2D shapes
(hline, vline, etc) together with a technique to use unicode automatically
when possible.</p>
<span class="target" id="module-diofant.printing.pretty.pretty"></span><dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty.PrettyPrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty.</span></span><span class="sig-name descname"><span class="pre">PrettyPrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty.py#L22-L1570"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty.PrettyPrinter" title="Permalink to this definition"></a></dt>
<dd><p>Printer, which converts an expression into 2D ASCII-art figure.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty.pprint">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty.</span></span><span class="sig-name descname"><span class="pre">pprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty.py#L1591-L1616"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty.pprint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty.pretty">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty.</span></span><span class="sig-name descname"><span class="pre">pretty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty.py#L1573-L1588"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty.pretty" title="Permalink to this definition"></a></dt>
<dd><p>Returns a string containing the prettified form of expr.</p>
<p>For information on keyword arguments see pretty_print function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty.pretty_print">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty.</span></span><span class="sig-name descname"><span class="pre">pretty_print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty.py#L1591-L1616"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty.pretty_print" title="Permalink to this definition"></a></dt>
<dd><p>Prints expr in pretty form.</p>
<p>pprint is just a shortcut for this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> (<em>expression</em>) – the expression to print</p></li>
<li><p><strong>wrap_line</strong> (<em>bool, optional</em>) – line wrapping enabled/disabled, defaults to True</p></li>
<li><p><strong>num_columns</strong> (<em>int or None, optional</em>) – number of columns before line breaking (default to None which reads
the terminal width), useful when using Diofant without terminal.</p></li>
<li><p><strong>use_unicode</strong> (<em>bool or None, optional</em>) – use unicode characters, such as the Greek letter pi instead of
the string pi.</p></li>
<li><p><strong>full_prec</strong> (<em>bool or string, optional</em>) – use full precision. Default to “auto”</p></li>
<li><p><strong>order</strong> (<em>bool or string, optional</em>) – set to ‘none’ for long expressions if slow; default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-diofant.printing.ccode">
<span id="ccodeprinter"></span><h2>CCodePrinter<a class="headerlink" href="#module-diofant.printing.ccode" title="Permalink to this heading"></a></h2>
<p>This class implements C code printing (i.e. it converts Python expressions
to strings of C code).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ccode</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="go">pow(sin(x), 2) + pow(cos(x), 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ccode</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">assign_to</span><span class="o">=</span><span class="s1">&#39;result&#39;</span><span class="p">))</span>
<span class="go">result = 2*x + cos(x);</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ccode</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">fabs(pow(x, 2))</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.ccode.CCodePrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.ccode.</span></span><span class="sig-name descname"><span class="pre">CCodePrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/ccode.py#L81-L247"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.ccode.CCodePrinter" title="Permalink to this definition"></a></dt>
<dd><p>A printer to convert python expressions to strings of c code.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.ccode.CCodePrinter.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_ccode'</span></em><a class="headerlink" href="#diofant.printing.ccode.CCodePrinter.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.ccode.CCodePrinter.indent_code">
<span class="sig-name descname"><span class="pre">indent_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/ccode.py#L222-L247"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.ccode.CCodePrinter.indent_code" title="Permalink to this definition"></a></dt>
<dd><p>Accepts a string of code or a list of code lines.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.ccode.ccode">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.ccode.</span></span><span class="sig-name descname"><span class="pre">ccode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assign_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/ccode.py#L250-L365"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.ccode.ccode" title="Permalink to this definition"></a></dt>
<dd><p>Converts an expr to a string of c code</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> (<em>Expr</em>) – A diofant expression to be converted.</p></li>
<li><p><strong>assign_to</strong> (<em>optional</em>) – When given, the argument is used as the name of the variable to which
the expression is assigned. Can be a string, <code class="docutils literal notranslate"><span class="pre">Symbol</span></code>,
<code class="docutils literal notranslate"><span class="pre">MatrixSymbol</span></code>, or <code class="docutils literal notranslate"><span class="pre">Indexed</span></code> type. This is helpful in case of
line-wrapping, or for expressions that generate multi-line statements.</p></li>
<li><p><strong>precision</strong> (<em>integer, optional</em>) – The precision for numbers such as pi [default=15].</p></li>
<li><p><strong>user_functions</strong> (<em>dict, optional</em>) – A dictionary where the keys are string representations of either
<code class="docutils literal notranslate"><span class="pre">FunctionClass</span></code> or <code class="docutils literal notranslate"><span class="pre">UndefinedFunction</span></code> instances and the values
are their desired C string representations. Alternatively, the
dictionary value can be a list of tuples i.e. [(argument_test,
cfunction_string)] or [(argument_test, cfunction_formater)]. See below
for examples.</p></li>
<li><p><strong>dereference</strong> (<em>iterable, optional</em>) – An iterable of symbols that should be dereferenced in the printed code
expression. These would be values passed by address to the function.
For example, if <code class="docutils literal notranslate"><span class="pre">dereference=[a]</span></code>, the resulting code would print
<code class="docutils literal notranslate"><span class="pre">(*a)</span></code> instead of <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p></li>
<li><p><strong>human</strong> (<em>bool, optional</em>) – If True, the result is a single string that may contain some constant
declarations for the number symbols. If False, the same information is
returned in a tuple of (symbols_to_declare, not_supported_functions,
code_text). [default=True].</p></li>
<li><p><strong>contract</strong> (<em>bool, optional</em>) – If True, <code class="docutils literal notranslate"><span class="pre">Indexed</span></code> instances are assumed to obey tensor contraction
rules and the corresponding nested loops over indices are generated.
Setting contract=False will not generate loops, instead the user is
responsible to provide values for the indices in the code.
[default=True].</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccode</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">&#39;8*sqrt(2)*pow(x, 7.0L/2.0L)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ccode</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">assign_to</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="go">&#39;s = sin(x);&#39;</span>
</pre></div>
</div>
<p>Simple custom printing can be defined for certain types by passing a
dictionary of {“type” : “function”} to the <code class="docutils literal notranslate"><span class="pre">user_functions</span></code> kwarg.
Alternatively, the dictionary value can be a list of tuples i.e.
[(argument_test, cfunction_string)].</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">custom_functions</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ceiling&#39;</span><span class="p">:</span> <span class="s1">&#39;CEIL&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s1">&#39;Abs&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">is_integer</span><span class="p">,</span> <span class="s1">&#39;fabs&#39;</span><span class="p">),</span>
<span class="gp">... </span>                            <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">is_integer</span><span class="p">,</span> <span class="s1">&#39;ABS&#39;</span><span class="p">)],</span>
<span class="gp">... </span>                    <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="s1">&#39;f&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="s1">&#39;func&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ccode</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">ceiling</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="n">user_functions</span><span class="o">=</span><span class="n">custom_functions</span><span class="p">)</span>
<span class="go">&#39;f(fabs(x) + CEIL(x))&#39;</span>
</pre></div>
</div>
<p>or if the C-function takes a subset of the original arguments:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccode</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="o">**</span><span class="n">x</span><span class="p">,</span>
<span class="gp">... </span>      <span class="n">user_functions</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Pow&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">b</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                               <span class="k">lambda</span> <span class="n">b</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;exp2(</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">),</span>
<span class="gp">... </span>                              <span class="p">(</span><span class="k">lambda</span> <span class="n">b</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="n">b</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pow&#39;</span><span class="p">)]})</span>
<span class="go">&#39;exp2(x) + pow(3, x)&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Piecewise</span></code> expressions are converted into conditionals. If an
<code class="docutils literal notranslate"><span class="pre">assign_to</span></code> variable is provided an if statement is created, otherwise
the ternary operator is used. Note that if the <code class="docutils literal notranslate"><span class="pre">Piecewise</span></code> lacks a
default term, represented by <code class="docutils literal notranslate"><span class="pre">(expr,</span> <span class="pre">True)</span></code> then an error will be thrown.
This is to prevent generating an expression that may not evaluate to
anything.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expr</span> <span class="o">=</span> <span class="n">Piecewise</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ccode</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
<span class="go">if (x &gt; 0) {</span>
<span class="go">y = x + 1;</span>
<span class="go">}</span>
<span class="go">else {</span>
<span class="go">y = x;</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Support for loops is provided through <code class="docutils literal notranslate"><span class="pre">Indexed</span></code> types. With
<code class="docutils literal notranslate"><span class="pre">contract=True</span></code> these expressions will be turned into loops, whereas
<code class="docutils literal notranslate"><span class="pre">contract=False</span></code> will just print the assignment expression that should be
looped over:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">len_y</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="n">len_y</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="n">len_y</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Dy</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s1">&#39;Dy&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="n">len_y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">len_y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">Eq</span><span class="p">(</span><span class="n">Dy</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ccode</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">rhs</span><span class="p">,</span> <span class="n">assign_to</span><span class="o">=</span><span class="n">e</span><span class="o">.</span><span class="n">lhs</span><span class="p">,</span> <span class="n">contract</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;Dy[i] = (y[i + 1] - y[i])/(t[i + 1] - t[i]);&#39;</span>
</pre></div>
</div>
<p>Matrices are also supported, but a <code class="docutils literal notranslate"><span class="pre">MatrixSymbol</span></code> of the same dimensions
must be provided to <code class="docutils literal notranslate"><span class="pre">assign_to</span></code>. Note that any expression that can be
generated normally can also exist inside a Matrix:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">Piecewise</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="kc">True</span><span class="p">)),</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">MatrixSymbol</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ccode</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span> <span class="n">A</span><span class="p">))</span>
<span class="go">A[0] = pow(x, 2);</span>
<span class="go">if (x &gt; 0) {</span>
<span class="go">   A[1] = x + 1;</span>
<span class="go">}</span>
<span class="go">else {</span>
<span class="go">   A[1] = x;</span>
<span class="go">}</span>
<span class="go">A[2] = sin(x);</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="fortran-printing">
<h2>Fortran Printing<a class="headerlink" href="#fortran-printing" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">fcode</span></code> function translates a diofant expression into Fortran code. The main
purpose is to take away the burden of manually translating long mathematical
expressions. Therefore the resulting expression should also require no (or
very little) manual tweaking to make it compilable. The optional arguments
of <code class="docutils literal notranslate"><span class="pre">fcode</span></code> can be used to fine-tune the behavior of <code class="docutils literal notranslate"><span class="pre">fcode</span></code> in such a way
that manual changes in the result are no longer needed.</p>
<span class="target" id="module-diofant.printing.fcode"></span><dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.fcode.fcode">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.fcode.</span></span><span class="sig-name descname"><span class="pre">fcode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assign_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/fcode.py#L377-L481"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.fcode.fcode" title="Permalink to this definition"></a></dt>
<dd><p>Converts an expr to a string of fortran code</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> (<em>Expr</em>) – A diofant expression to be converted.</p></li>
<li><p><strong>assign_to</strong> (<em>optional</em>) – When given, the argument is used as the name of the variable to which
the expression is assigned. Can be a string, <code class="docutils literal notranslate"><span class="pre">Symbol</span></code>,
<code class="docutils literal notranslate"><span class="pre">MatrixSymbol</span></code>, or <code class="docutils literal notranslate"><span class="pre">Indexed</span></code> type. This is helpful in case of
line-wrapping, or for expressions that generate multi-line statements.</p></li>
<li><p><strong>precision</strong> (<em>integer, optional</em>) – The precision for numbers such as pi [default=15].</p></li>
<li><p><strong>user_functions</strong> (<em>dict, optional</em>) – A dictionary where keys are <code class="docutils literal notranslate"><span class="pre">FunctionClass</span></code> instances and values are
their string representations. Alternatively, the dictionary value can
be a list of tuples i.e. [(argument_test, cfunction_string)]. See below
for examples.</p></li>
<li><p><strong>human</strong> (<em>bool, optional</em>) – If True, the result is a single string that may contain some constant
declarations for the number symbols. If False, the same information is
returned in a tuple of (symbols_to_declare, not_supported_functions,
code_text). [default=True].</p></li>
<li><p><strong>contract</strong> (<em>bool, optional</em>) – If True, <code class="docutils literal notranslate"><span class="pre">Indexed</span></code> instances are assumed to obey tensor contraction
rules and the corresponding nested loops over indices are generated.
Setting contract=False will not generate loops, instead the user is
responsible to provide values for the indices in the code.
[default=True].</p></li>
<li><p><strong>source_format</strong> (<em>optional</em>) – The source format can be either ‘fixed’ or ‘free’. [default=’fixed’]</p></li>
<li><p><strong>standard</strong> (<em>integer, optional</em>) – The Fortran standard to be followed. This is specified as an integer.
Acceptable standards are 66, 77, 90, 95, 2003, and 2008. Default is 77.
Note that currently the only distinction internally is between
standards before 95, and those 95 and after. This may change later as
more features are added.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fcode</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">&#39;      8*sqrt(2.0d0)*x**(7.0d0/2.0d0)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fcode</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">assign_to</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="go">&#39;      s = sin(x)&#39;</span>
</pre></div>
</div>
<p>Custom printing can be defined for certain types by passing a dictionary of
“type” : “function” to the <code class="docutils literal notranslate"><span class="pre">user_functions</span></code> kwarg. Alternatively, the
dictionary value can be a list of tuples i.e. [(argument_test,
cfunction_string)].</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">custom_functions</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ceiling&#39;</span><span class="p">:</span> <span class="s1">&#39;CEIL&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s1">&#39;floor&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">is_integer</span><span class="p">,</span> <span class="s1">&#39;FLOOR1&#39;</span><span class="p">),</span>
<span class="gp">... </span>                              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">is_integer</span><span class="p">,</span> <span class="s1">&#39;FLOOR2&#39;</span><span class="p">)]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fcode</span><span class="p">(</span><span class="n">floor</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">ceiling</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">user_functions</span><span class="o">=</span><span class="n">custom_functions</span><span class="p">)</span>
<span class="go">&#39;      CEIL(x) + FLOOR1(x)&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Piecewise</span></code> expressions are converted into conditionals. If an
<code class="docutils literal notranslate"><span class="pre">assign_to</span></code> variable is provided an if statement is created, otherwise
the ternary operator is used. Note that if the <code class="docutils literal notranslate"><span class="pre">Piecewise</span></code> lacks a
default term, represented by <code class="docutils literal notranslate"><span class="pre">(expr,</span> <span class="pre">True)</span></code> then an error will be thrown.
This is to prevent generating an expression that may not evaluate to
anything.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expr</span> <span class="o">=</span> <span class="n">Piecewise</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
<span class="go">      if (x &gt; 0) then</span>
<span class="go">         y = x + 1</span>
<span class="go">      else</span>
<span class="go">         y = x</span>
<span class="go">      end if</span>
</pre></div>
</div>
<p>Support for loops is provided through <code class="docutils literal notranslate"><span class="pre">Indexed</span></code> types. With
<code class="docutils literal notranslate"><span class="pre">contract=True</span></code> these expressions will be turned into loops, whereas
<code class="docutils literal notranslate"><span class="pre">contract=False</span></code> will just print the assignment expression that should be
looped over:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">len_y</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="n">len_y</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="n">len_y</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Dy</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s1">&#39;Dy&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="n">len_y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">len_y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">Eq</span><span class="p">(</span><span class="n">Dy</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fcode</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">rhs</span><span class="p">,</span> <span class="n">assign_to</span><span class="o">=</span><span class="n">e</span><span class="o">.</span><span class="n">lhs</span><span class="p">,</span> <span class="n">contract</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;      Dy(i) = (y(i + 1) - y(i))/(t(i + 1) - t(i))&#39;</span>
</pre></div>
</div>
<p>Matrices are also supported, but a <code class="docutils literal notranslate"><span class="pre">MatrixSymbol</span></code> of the same dimensions
must be provided to <code class="docutils literal notranslate"><span class="pre">assign_to</span></code>. Note that any expression that can be
generated normally can also exist inside a Matrix:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">Piecewise</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="kc">True</span><span class="p">)),</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">MatrixSymbol</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span> <span class="n">A</span><span class="p">))</span>
<span class="go">      A(1, 1) = x**2</span>
<span class="go">         if (x &gt; 0) then</span>
<span class="go">      A(2, 1) = x + 1</span>
<span class="go">         else</span>
<span class="go">      A(2, 1) = x</span>
<span class="go">         end if</span>
<span class="go">      A(3, 1) = sin(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.fcode.FCodePrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.fcode.</span></span><span class="sig-name descname"><span class="pre">FCodePrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/fcode.py#L48-L374"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.fcode.FCodePrinter" title="Permalink to this definition"></a></dt>
<dd><p>A printer to convert diofant expressions to strings of Fortran code.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.fcode.FCodePrinter.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_fcode'</span></em><a class="headerlink" href="#diofant.printing.fcode.FCodePrinter.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.fcode.FCodePrinter.indent_code">
<span class="sig-name descname"><span class="pre">indent_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/fcode.py#L326-L374"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.fcode.FCodePrinter.indent_code" title="Permalink to this definition"></a></dt>
<dd><p>Accepts a string of code or a list of code lines.</p>
</dd></dl>

</dd></dl>

<p>Two basic examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fcode</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="go">&#39;      sqrt(-x**2 + 1)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fcode</span><span class="p">((</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">conjugate</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="go">&#39;      (cmplx(3,4))/(-conjg(x) + 1)&#39;</span>
</pre></div>
</div>
<p>An example where line wrapping is required:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expr</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">removeO</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">expr</span><span class="p">))</span>
<span class="go">      -715.0d0/65536.0d0*x**18 - 429.0d0/32768.0d0*x**16 - 33.0d0/</span>
<span class="go">     @ 2048.0d0*x**14 - 21.0d0/1024.0d0*x**12 - 7.0d0/256.0d0*x**10 -</span>
<span class="go">     @ 5.0d0/128.0d0*x**8 - 1.0d0/16.0d0*x**6 - 1.0d0/8.0d0*x**4 - 1.0d0</span>
<span class="go">     @ /2.0d0*x**2 + 1</span>
</pre></div>
</div>
<p>In case of line wrapping, it is handy to include the assignment so that lines
are wrapped properly when the assignment part is added.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">assign_to</span><span class="o">=</span><span class="s1">&#39;var&#39;</span><span class="p">))</span>
<span class="go">      var = -715.0d0/65536.0d0*x**18 - 429.0d0/32768.0d0*x**16 - 33.0d0/</span>
<span class="go">     @ 2048.0d0*x**14 - 21.0d0/1024.0d0*x**12 - 7.0d0/256.0d0*x**10 -</span>
<span class="go">     @ 5.0d0/128.0d0*x**8 - 1.0d0/16.0d0*x**6 - 1.0d0/8.0d0*x**4 - 1.0d0</span>
<span class="go">     @ /2.0d0*x**2 + 1</span>
</pre></div>
</div>
<p>For piecewise functions, the <code class="docutils literal notranslate"><span class="pre">assign_to</span></code> option is mandatory:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">Piecewise</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="kc">True</span><span class="p">)),</span> <span class="n">assign_to</span><span class="o">=</span><span class="s1">&#39;var&#39;</span><span class="p">))</span>
<span class="go">      if (x &lt; 1) then</span>
<span class="go">        var = x</span>
<span class="go">      else</span>
<span class="go">        var = x**2</span>
<span class="go">      end if</span>
</pre></div>
</div>
<p>Note that by default only top-level piecewise functions are supported due to
the lack of a conditional operator in Fortran 77. Inline conditionals can be
supported using the <code class="docutils literal notranslate"><span class="pre">merge</span></code> function introduced in Fortran 95 by setting of
the kwarg <code class="docutils literal notranslate"><span class="pre">standard=95</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">Piecewise</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="kc">True</span><span class="p">)),</span> <span class="n">standard</span><span class="o">=</span><span class="mi">95</span><span class="p">))</span>
<span class="go">      merge(x, x**2, x &lt; 1)</span>
</pre></div>
</div>
<p>Loops are generated if there are Indexed objects in the expression. This
also requires use of the assign_to option.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">IndexedBase</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">assign_to</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<span class="go">    do i = 1, m</span>
<span class="go">        A(i) = 2*B(i)</span>
<span class="go">    end do</span>
</pre></div>
</div>
<p>Repeated indices in an expression with Indexed objects are interpreted as
summation. For instance, code for the trace of a matrix can be generated
with</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">],</span> <span class="n">assign_to</span><span class="o">=</span><span class="n">x</span><span class="p">))</span>
<span class="go">      x = 0</span>
<span class="go">      do i = 1, m</span>
<span class="go">          x = x + A(i, i)</span>
<span class="go">      end do</span>
</pre></div>
</div>
<p>By default, number symbols such as <code class="docutils literal notranslate"><span class="pre">pi</span></code> and <code class="docutils literal notranslate"><span class="pre">E</span></code> are detected and defined as
Fortran parameters. The precision of the constants can be tuned with the
precision argument. Parameter definitions are easily avoided using the <code class="docutils literal notranslate"><span class="pre">N</span></code>
function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">pi</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">E</span><span class="p">))</span>
<span class="go">      parameter (E = 2.71828182845905d0)</span>
<span class="go">      parameter (pi = 3.14159265358979d0)</span>
<span class="go">      x - pi**2 - E</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">pi</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">E</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="go">      parameter (E = 2.718281828459045235360287d0)</span>
<span class="go">      parameter (pi = 3.141592653589793238462643d0)</span>
<span class="go">      x - pi**2 - E</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="n">N</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">pi</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">25</span><span class="p">)))</span>
<span class="go">      x - 9.869604401089358618834491d0</span>
</pre></div>
</div>
<p>When some functions are not part of the Fortran standard, it might be desirable
to introduce the names of user-defined functions in the Fortran expression.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">gamma</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">user_functions</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;gamma&#39;</span><span class="p">:</span> <span class="s1">&#39;mygamma&#39;</span><span class="p">}))</span>
<span class="go">      -mygamma(x)**2 + 1</span>
</pre></div>
</div>
<p>However, when the user_functions argument is not provided, <code class="docutils literal notranslate"><span class="pre">fcode</span></code> attempts to
use a reasonable default and adds a comment to inform the user of the issue.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fcode</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">gamma</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="go">C     Not supported in Fortran:</span>
<span class="go">C     gamma</span>
<span class="go">      -gamma(x)**2 + 1</span>
</pre></div>
</div>
<p>By default the output is human readable code, ready for copy and paste. With the
option <code class="docutils literal notranslate"><span class="pre">human=False</span></code>, the return value is suitable for post-processing with
source code generators that write routines with multiple instructions. The
return value is a three-tuple containing: (i) a set of number symbols that must
be defined as ‘Fortran parameters’, (ii) a list functions that cannot be
translated in pure Fortran and (iii) a string of Fortran code. A few examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fcode</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">gamma</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">human</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(set(), {gamma(x)}, &#39;      -gamma(x)**2 + 1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fcode</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">human</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(set(), set(), &#39;      -sin(x)**2 + 1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fcode</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">pi</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">human</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">({(pi, &#39;3.14159265358979d0&#39;)}, set(), &#39;      x - pi**2&#39;)</span>
</pre></div>
</div>
</section>
<section id="module-diofant.printing.mathematica">
<span id="mathematica-code-printing"></span><h2>Mathematica code printing<a class="headerlink" href="#module-diofant.printing.mathematica" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.mathematica.MCodePrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.mathematica.</span></span><span class="sig-name descname"><span class="pre">MCodePrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/mathematica.py#L61-L205"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.mathematica.MCodePrinter" title="Permalink to this definition"></a></dt>
<dd><p>A printer to convert python expressions to
strings of the Wolfram’s Mathematica code.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.mathematica.MCodePrinter.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_mcode'</span></em><a class="headerlink" href="#diofant.printing.mathematica.MCodePrinter.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.mathematica.MCodePrinter.doprint">
<span class="sig-name descname"><span class="pre">doprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/printer.py#L181-L183"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.mathematica.MCodePrinter.doprint" title="Permalink to this definition"></a></dt>
<dd><p>Returns printer’s representation for expr (as a string).</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.mathematica.mathematica_code">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.mathematica.</span></span><span class="sig-name descname"><span class="pre">mathematica_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/mathematica.py#L208-L218"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.mathematica.mathematica_code" title="Permalink to this definition"></a></dt>
<dd><p>Converts an expr to a string of the Wolfram Mathematica code</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mathematica_code</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">removeO</span><span class="p">())</span>
<span class="go">&#39;(1/120)*x^5 - 1/6*x^3 + x&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-diofant.printing.lambdarepr">
<span id="lambdaprinter"></span><h2>LambdaPrinter<a class="headerlink" href="#module-diofant.printing.lambdarepr" title="Permalink to this heading"></a></h2>
<p>This classes implements printing to strings that can be used by the
<a class="reference internal" href="utilities/lambdify.html#diofant.utilities.lambdify.lambdify" title="diofant.utilities.lambdify.lambdify"><code class="xref py py-func docutils literal notranslate"><span class="pre">diofant.utilities.lambdify.lambdify()</span></code></a> function.</p>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.lambdarepr.LambdaPrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.lambdarepr.</span></span><span class="sig-name descname"><span class="pre">LambdaPrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/lambdarepr.py#L7-L80"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.lambdarepr.LambdaPrinter" title="Permalink to this definition"></a></dt>
<dd><p>This printer converts expressions into strings that can be used by
lambdify.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.lambdarepr.LambdaPrinter.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_diofantstr'</span></em><a class="headerlink" href="#diofant.printing.lambdarepr.LambdaPrinter.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.lambdarepr.lambdarepr">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.lambdarepr.</span></span><span class="sig-name descname"><span class="pre">lambdarepr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/lambdarepr.py#L199-L201"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.lambdarepr.lambdarepr" title="Permalink to this definition"></a></dt>
<dd><p>Returns a string usable for lambdifying.</p>
</dd></dl>

</section>
<section id="module-diofant.printing.latex">
<span id="latexprinter"></span><h2>LatexPrinter<a class="headerlink" href="#module-diofant.printing.latex" title="Permalink to this heading"></a></h2>
<p>This class implements LaTeX printing. See <code class="docutils literal notranslate"><span class="pre">diofant.printing.latex</span></code>.</p>
<dl class="py data">
<dt class="sig sig-object py" id="diofant.printing.latex.accepted_latex_functions">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.latex.</span></span><span class="sig-name descname"><span class="pre">accepted_latex_functions</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['arcsin',</span> <span class="pre">'arccos',</span> <span class="pre">'arctan',</span> <span class="pre">'sin',</span> <span class="pre">'cos',</span> <span class="pre">'tan',</span> <span class="pre">'sinh',</span> <span class="pre">'cosh',</span> <span class="pre">'tanh',</span> <span class="pre">'sqrt',</span> <span class="pre">'ln',</span> <span class="pre">'log',</span> <span class="pre">'sec',</span> <span class="pre">'csc',</span> <span class="pre">'cot',</span> <span class="pre">'coth',</span> <span class="pre">'re',</span> <span class="pre">'im',</span> <span class="pre">'frac',</span> <span class="pre">'root',</span> <span class="pre">'arg']</span></em><a class="headerlink" href="#diofant.printing.latex.accepted_latex_functions" title="Permalink to this definition"></a></dt>
<dd><p>Built-in mutable sequence.</p>
<p>If no argument is given, the constructor creates a new empty list.
The argument must be an iterable if specified.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.latex.LatexPrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.latex.</span></span><span class="sig-name descname"><span class="pre">LatexPrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/latex.py#L108-L1616"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.latex.LatexPrinter" title="Permalink to this definition"></a></dt>
<dd><p>LaTex printer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.latex.LatexPrinter.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_latex'</span></em><a class="headerlink" href="#diofant.printing.latex.LatexPrinter.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.latex.latex">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.latex.</span></span><span class="sig-name descname"><span class="pre">latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/latex.py#L1647-L1769"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.latex.latex" title="Permalink to this definition"></a></dt>
<dd><p>Convert the given expression to LaTeX representation.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.abc</span> <span class="kn">import</span> <span class="n">mu</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">tau</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">tau</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="go">8 \sqrt{2} \tau^{\frac{7}{2}}</span>
</pre></div>
</div>
<p>Not using a print statement for printing, results in double backslashes for
latex commands since that’s the way Python escapes backslashes in strings.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">tau</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">&#39;8 \\sqrt{2} \\tau^{\\frac{7}{2}}&#39;</span>
</pre></div>
</div>
<p>order: Any of the supported monomial orderings (currently “lex”, “grlex”, or
“grevlex”) and “none”. This parameter does nothing for Mul objects.
For very large expressions, set the ‘order’ keyword to ‘none’ if
speed is a concern.</p>
<p>mode: Specifies how the generated code will be delimited. ‘mode’ can be one
of ‘plain’, ‘inline’, ‘equation’ or ‘equation*’.  If ‘mode’ is set to
‘plain’, then the resulting code will not be delimited at all (this is the
default). If ‘mode’ is set to ‘inline’ then inline LaTeX $ $ will be used.
If ‘mode’ is set to ‘equation’ or ‘equation*’, the resulting code will be
enclosed in the ‘equation’ or ‘equation*’ environment (remember to import
‘amsmath’ for ‘equation*’), unless the ‘itex’ option is set. In the latter
case, the <code class="docutils literal notranslate"><span class="pre">$$</span> <span class="pre">$$</span></code> syntax is used.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;plain&#39;</span><span class="p">))</span>
<span class="go">8 \sqrt{2} \mu^{\frac{7}{2}}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">tau</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;inline&#39;</span><span class="p">))</span>
<span class="go">$8 \sqrt{2} \tau^{7 / 2}$</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;equation*&#39;</span><span class="p">))</span>
<span class="go">\begin{equation*}8 \sqrt{2} \mu^{\frac{7}{2}}\end{equation*}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;equation&#39;</span><span class="p">))</span>
<span class="go">\begin{equation}8 \sqrt{2} \mu^{\frac{7}{2}}\end{equation}</span>
</pre></div>
</div>
<p>itex: Specifies if itex-specific syntax is used, including emitting <code class="docutils literal notranslate"><span class="pre">$$</span> <span class="pre">$$</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;equation&#39;</span><span class="p">,</span> <span class="n">itex</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">$$8 \sqrt{2} \mu^{\frac{7}{2}}$$</span>
</pre></div>
</div>
<p>fold_frac_powers: Emit “^{p/q}” instead of “^{frac{p}{q}}” for fractional
powers.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">tau</span><span class="p">)</span><span class="o">**</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">fold_frac_powers</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">8 \sqrt{2} \tau^{7/2}</span>
</pre></div>
</div>
<p>fold_func_brackets: Fold function brackets where applicable.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">tau</span><span class="p">)</span><span class="o">**</span><span class="n">sin</span><span class="p">(</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">))))</span>
<span class="go">\left(2 \tau\right)^{\sin{\left (\frac{7}{2} \right )}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">tau</span><span class="p">)</span><span class="o">**</span><span class="n">sin</span><span class="p">(</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">fold_func_brackets</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">\left(2 \tau\right)^{\sin {\frac{7}{2}}}</span>
</pre></div>
</div>
<p>fold_short_frac: Emit “p / q” instead of “frac{p}{q}” when the
denominator is simple enough (at most two terms and no powers).
The default value is <span class="math notranslate nohighlight">\(True\)</span> for inline mode, False otherwise.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">y</span><span class="p">))</span>
<span class="go">\frac{3 x^{2}}{y}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">y</span><span class="p">,</span> <span class="n">fold_short_frac</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">3 x^{2} / y</span>
</pre></div>
</div>
<p>long_frac_ratio: The allowed ratio of the width of the numerator to the
width of the denominator before we start breaking off long fractions.
The default value is 2.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">Integral</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">pi</span><span class="p">,</span> <span class="n">long_frac_ratio</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">\frac{\int r\, dr}{2 \pi}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">Integral</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">pi</span><span class="p">,</span> <span class="n">long_frac_ratio</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="go">\frac{1}{2 \pi} \int r\, dr</span>
</pre></div>
</div>
<p>mul_symbol: The symbol to use for multiplication. Can be one of None,
“ldot”, “dot”, or “times”.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">tau</span><span class="p">)</span><span class="o">**</span><span class="n">sin</span><span class="p">(</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">mul_symbol</span><span class="o">=</span><span class="s1">&#39;times&#39;</span><span class="p">))</span>
<span class="go">\left(2 \times \tau\right)^{\sin{\left (\frac{7}{2} \right )}}</span>
</pre></div>
</div>
<p>inv_trig_style: How inverse trig functions should be displayed. Can be one
of “abbreviated”, “full”, or “power”. Defaults to “abbreviated”.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">asin</span><span class="p">(</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">))))</span>
<span class="go">\operatorname{asin}{\left (\frac{7}{2} \right )}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">asin</span><span class="p">(</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">inv_trig_style</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">))</span>
<span class="go">\arcsin{\left (\frac{7}{2} \right )}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">asin</span><span class="p">(</span><span class="n">Rational</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">inv_trig_style</span><span class="o">=</span><span class="s1">&#39;power&#39;</span><span class="p">))</span>
<span class="go">\sin^{-1}{\left (\frac{7}{2} \right )}</span>
</pre></div>
</div>
<p>mat_str: Which matrix environment string to emit. “smallmatrix”, “matrix”,
“array”, etc. Defaults to “smallmatrix” for inline mode, “matrix” for
matrices of no more than 10 columns, and “array” otherwise.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">Matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])))</span>
<span class="go">\left[\begin{matrix}x\\y\end{matrix}\right]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">Matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]),</span> <span class="n">mat_str</span><span class="o">=</span><span class="s1">&#39;array&#39;</span><span class="p">))</span>
<span class="go">\left[\begin{array}{c}x\\y\end{array}\right]</span>
</pre></div>
</div>
<p>mat_delim: The delimiter to wrap around matrices. Can be one of “[”, “(“,
or the empty string. Defaults to “[“.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">Matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]),</span> <span class="n">mat_delim</span><span class="o">=</span><span class="s1">&#39;(&#39;</span><span class="p">))</span>
<span class="go">\left(\begin{matrix}x\\y\end{matrix}\right)</span>
</pre></div>
</div>
<p>symbol_names: Dictionary of symbols and the custom strings they should be
emitted as.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">symbol_names</span><span class="o">=</span><span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="s1">&#39;x_i&#39;</span><span class="p">}))</span>
<span class="go">x_i^{2}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">latex</span></code> also supports the builtin container types list, tuple, and
dictionary.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">([</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;inline&#39;</span><span class="p">))</span>
<span class="go">$\left [ 2 / x, \quad y\right ]$</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-diofant.printing.mathml">
<span id="mathmlprinter"></span><h2>MathMLPrinter<a class="headerlink" href="#module-diofant.printing.mathml" title="Permalink to this heading"></a></h2>
<p>This class is responsible for MathML printing. See <code class="docutils literal notranslate"><span class="pre">diofant.printing.mathml</span></code>.</p>
<p>More info on mathml content: <a class="reference external" href="http://www.w3.org/TR/MathML2/chapter4.html">http://www.w3.org/TR/MathML2/chapter4.html</a></p>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.mathml.MathMLPrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.mathml.</span></span><span class="sig-name descname"><span class="pre">MathMLPrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/mathml.py#L10-L372"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.mathml.MathMLPrinter" title="Permalink to this definition"></a></dt>
<dd><p>Prints an expression to the MathML markup language</p>
<p>Whenever possible tries to use Content markup and not Presentation markup.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.w3.org/TR/MathML3/">https://www.w3.org/TR/MathML3/</a></p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.mathml.MathMLPrinter.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_mathml'</span></em><a class="headerlink" href="#diofant.printing.mathml.MathMLPrinter.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.mathml.MathMLPrinter.doprint">
<span class="sig-name descname"><span class="pre">doprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/mathml.py#L34-L40"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.mathml.MathMLPrinter.doprint" title="Permalink to this definition"></a></dt>
<dd><p>Prints the expression as MathML.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.mathml.MathMLPrinter.mathml_tag">
<span class="sig-name descname"><span class="pre">mathml_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/mathml.py#L42-L81"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.mathml.MathMLPrinter.mathml_tag" title="Permalink to this definition"></a></dt>
<dd><p>Returns the MathML tag for an expression.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.mathml.mathml">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.mathml.</span></span><span class="sig-name descname"><span class="pre">mathml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/mathml.py#L375-L377"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.mathml.mathml" title="Permalink to this definition"></a></dt>
<dd><p>Returns the MathML representation of expr.</p>
</dd></dl>

</section>
<section id="module-diofant.printing.python">
<span id="pythonprinter"></span><h2>PythonPrinter<a class="headerlink" href="#module-diofant.printing.python" title="Permalink to this heading"></a></h2>
<p>This class implements Python printing. Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">python</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="go">x = Symbol(&#39;x&#39;)</span>
<span class="go">e = 5*x**3 + sin(x)</span>
</pre></div>
</div>
</section>
<section id="module-diofant.printing.repr">
<span id="reprprinter"></span><h2>ReprPrinter<a class="headerlink" href="#module-diofant.printing.repr" title="Permalink to this heading"></a></h2>
<p>This printer generates executable code. This code satisfies the identity
<code class="docutils literal notranslate"><span class="pre">eval(srepr(expr))</span> <span class="pre">==</span> <span class="pre">expr</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.repr.ReprPrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.repr.</span></span><span class="sig-name descname"><span class="pre">ReprPrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/repr.py#L18-L167"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.repr.ReprPrinter" title="Permalink to this definition"></a></dt>
<dd><p>Repr printer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.repr.ReprPrinter.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_diofantrepr'</span></em><a class="headerlink" href="#diofant.printing.repr.ReprPrinter.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.repr.ReprPrinter.emptyPrinter">
<span class="sig-name descname"><span class="pre">emptyPrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/repr.py#L31-L41"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.repr.ReprPrinter.emptyPrinter" title="Permalink to this definition"></a></dt>
<dd><p>The fallback printer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.repr.ReprPrinter.reprify">
<span class="sig-name descname"><span class="pre">reprify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/repr.py#L27-L29"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.repr.ReprPrinter.reprify" title="Permalink to this definition"></a></dt>
<dd><p>Prints each item in <span class="math notranslate nohighlight">\(args\)</span> and joins them with <span class="math notranslate nohighlight">\(sep\)</span>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.repr.srepr">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.repr.</span></span><span class="sig-name descname"><span class="pre">srepr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/repr.py#L170-L172"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.repr.srepr" title="Permalink to this definition"></a></dt>
<dd><p>Return expr in repr form.</p>
</dd></dl>

</section>
<section id="module-diofant.printing.str">
<span id="strprinter"></span><h2>StrPrinter<a class="headerlink" href="#module-diofant.printing.str" title="Permalink to this heading"></a></h2>
<p>This module generates readable representations of Diofant expressions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.str.StrPrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.str.</span></span><span class="sig-name descname"><span class="pre">StrPrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/str.py#L15-L607"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.str.StrPrinter" title="Permalink to this definition"></a></dt>
<dd><p>Str printer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.str.StrPrinter.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_diofantstr'</span></em><a class="headerlink" href="#diofant.printing.str.StrPrinter.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.str.sstr">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.str.</span></span><span class="sig-name descname"><span class="pre">sstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/str.py#L610-L626"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.str.sstr" title="Permalink to this definition"></a></dt>
<dd><p>Returns the expression as a string.</p>
<p>For large expressions where speed is a concern, use the setting
order=’none’.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sstr</span><span class="p">(</span><span class="n">Eq</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">&#39;Eq(a + b, 0)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.str.sstrrepr">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.str.</span></span><span class="sig-name descname"><span class="pre">sstrrepr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/str.py#L636-L647"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.str.sstrrepr" title="Permalink to this definition"></a></dt>
<dd><p>Return expr in mixed str/repr form.</p>
<p>i.e. strings are returned in repr form with quotes, and everything else
is returned in str form.</p>
<p>This function could be useful for hooking into sys.displayhook</p>
</dd></dl>

</section>
<section id="module-diofant.printing.conventions">
<span id="implementation-helper-classes-functions"></span><h2>Implementation - Helper Classes/Functions<a class="headerlink" href="#module-diofant.printing.conventions" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.conventions.split_super_sub">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.conventions.</span></span><span class="sig-name descname"><span class="pre">split_super_sub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/conventions.py#L10-L62"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.conventions.split_super_sub" title="Permalink to this definition"></a></dt>
<dd><p>Split a symbol name into a name, superscripts and subscripts</p>
<p>The first part of the symbol name is considered to be its actual
‘name’, followed by super- and subscripts. Each superscript is
preceded with a “^” character or by “__”. Each subscript is preceded
by a “_” character.  The three return values are the actual name, a
list with superscripts and a list with subscripts.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">split_super_sub</span><span class="p">(</span><span class="s1">&#39;a_x^1&#39;</span><span class="p">)</span>
<span class="go">(&#39;a&#39;, [&#39;1&#39;], [&#39;x&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_super_sub</span><span class="p">(</span><span class="s1">&#39;var_sub1__sup_sub2&#39;</span><span class="p">)</span>
<span class="go">(&#39;var&#39;, [&#39;sup&#39;], [&#39;sub1&#39;, &#39;sub2&#39;])</span>
</pre></div>
</div>
</dd></dl>

<section id="module-diofant.printing.codeprinter">
<span id="codeprinter"></span><h3>CodePrinter<a class="headerlink" href="#module-diofant.printing.codeprinter" title="Permalink to this heading"></a></h3>
<p>This class is a base class for other classes that implement code-printing
functionality, and additionally lists a number of functions that cannot be
easily translated to C or Fortran.</p>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.codeprinter.CodePrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.codeprinter.</span></span><span class="sig-name descname"><span class="pre">CodePrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/codeprinter.py#L76-L498"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.codeprinter.CodePrinter" title="Permalink to this definition"></a></dt>
<dd><p>The base class for code-printing subclasses.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="diofant.printing.codeprinter.CodePrinter.printmethod">
<span class="sig-name descname"><span class="pre">printmethod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_diofantstr'</span></em><a class="headerlink" href="#diofant.printing.codeprinter.CodePrinter.printmethod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="diofant.printing.codeprinter.AssignmentError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.codeprinter.</span></span><span class="sig-name descname"><span class="pre">AssignmentError</span></span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/codeprinter.py#L10-L11"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.codeprinter.AssignmentError" title="Permalink to this definition"></a></dt>
<dd><p>Raised if an assignment variable for a loop is missing.</p>
</dd></dl>

</section>
<section id="module-diofant.printing.precedence">
<span id="precedence"></span><h3>Precedence<a class="headerlink" href="#module-diofant.printing.precedence" title="Permalink to this heading"></a></h3>
<p>A module providing information about the necessity of brackets</p>
</section>
</section>
<section id="module-diofant.printing.pretty.pretty_symbology">
<span id="pretty-printing-implementation-helpers"></span><h2>Pretty-Printing Implementation Helpers<a class="headerlink" href="#module-diofant.printing.pretty.pretty_symbology" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.U">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">U</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L10-L17"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.U" title="Permalink to this definition"></a></dt>
<dd><p>Unicode character by name or None if not found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.pretty_use_unicode">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">pretty_use_unicode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L34-L42"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.pretty_use_unicode" title="Permalink to this definition"></a></dt>
<dd><p>Set whether pretty-printer should use unicode by default.</p>
</dd></dl>

<p>The following two functions return the Unicode version of the inputted Greek
letter.</p>
<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.g">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">g</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L48-L49"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.g" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.G">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">G</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L52-L53"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.G" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.greek_letters">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">greek_letters</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['alpha',</span> <span class="pre">'beta',</span> <span class="pre">'gamma',</span> <span class="pre">'delta',</span> <span class="pre">'epsilon',</span> <span class="pre">'zeta',</span> <span class="pre">'eta',</span> <span class="pre">'theta',</span> <span class="pre">'iota',</span> <span class="pre">'kappa',</span> <span class="pre">'lamda',</span> <span class="pre">'mu',</span> <span class="pre">'nu',</span> <span class="pre">'xi',</span> <span class="pre">'omicron',</span> <span class="pre">'pi',</span> <span class="pre">'rho',</span> <span class="pre">'sigma',</span> <span class="pre">'tau',</span> <span class="pre">'upsilon',</span> <span class="pre">'phi',</span> <span class="pre">'chi',</span> <span class="pre">'psi',</span> <span class="pre">'omega']</span></em><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.greek_letters" title="Permalink to this definition"></a></dt>
<dd><p>Built-in mutable sequence.</p>
<p>If no argument is given, the constructor creates a new empty list.
The argument must be an iterable if specified.</p>
</dd></dl>

<p>The following functions return Unicode vertical objects.</p>
<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.xobj">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">xobj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L287-L351"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.xobj" title="Permalink to this definition"></a></dt>
<dd><p>Construct spatial object of given length.</p>
<p>return: [] of equal-length strings</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.vobj">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">vobj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L354-L362"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.vobj" title="Permalink to this definition"></a></dt>
<dd><p>Construct vertical object of a given height.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.printing.pretty.pretty_symbology.xobj" title="diofant.printing.pretty.pretty_symbology.xobj"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xobj</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.hobj">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">hobj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L365-L373"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.hobj" title="Permalink to this definition"></a></dt>
<dd><p>Construct horizontal object of a given width.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.printing.pretty.pretty_symbology.xobj" title="diofant.printing.pretty.pretty_symbology.xobj"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xobj</span></code></a></p>
</div>
</dd></dl>

<p>The following functions are for rendering atoms and symbols.</p>
<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.xsym">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">xsym</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sym</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L428-L434"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.xsym" title="Permalink to this definition"></a></dt>
<dd><p>Get symbology for a ‘character’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.pretty_atom">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">pretty_atom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atom_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L461-L468"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.pretty_atom" title="Permalink to this definition"></a></dt>
<dd><p>Return pretty representation of an atom.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.pretty_symbol">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">pretty_symbol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symb_name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L471-L523"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.pretty_symbol" title="Permalink to this definition"></a></dt>
<dd><p>Return pretty representation of a symbol.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.pretty.pretty_symbology.annotated">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.pretty_symbology.</span></span><span class="sig-name descname"><span class="pre">annotated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">letter</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/pretty_symbology.py#L526-L551"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.pretty_symbology.annotated" title="Permalink to this definition"></a></dt>
<dd><p>Return a stylised drawing of the letter <code class="docutils literal notranslate"><span class="pre">letter</span></code>, together with
information on how to put annotations (super- and subscripts to the
left and to the right) on it.</p>
<p>See pretty.py functions _print_meijerg, _print_hyper on how to use this
information.</p>
</dd></dl>

<span class="target" id="module-diofant.printing.pretty.stringpict"></span><p>Prettyprinter by Jurjen Bos.</p>
<p>(I hate spammers: mail me at pietjepuk314 at the reverse of ku.oc.oohay).
All objects have a method that create a “stringPict”,
that can be used in the str method for pretty printing.</p>
<dl class="simple">
<dt>Updates by Jason Gedge (email &lt;my last name&gt; at cs mun ca)</dt><dd><ul class="simple">
<li><p>terminal_string() method</p></li>
<li><p>minor fixes and changes (mostly to prettyForm)</p></li>
</ul>
</dd>
<dt>TODO:</dt><dd><ul class="simple">
<li><p>Allow left/center/right alignment options for above/below and
top/center/bottom alignment options for left/right</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.stringpict.</span></span><span class="sig-name descname"><span class="pre">stringPict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L22-L277"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict" title="Permalink to this definition"></a></dt>
<dd><p>An ASCII picture.
The pictures are represented as a list of equal length strings.</p>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.above">
<span class="sig-name descname"><span class="pre">above</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L171-L178"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.above" title="Permalink to this definition"></a></dt>
<dd><p>Put pictures above this picture.
Returns string, baseline arguments for stringPict.
Baseline is baseline of bottom picture.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.below">
<span class="sig-name descname"><span class="pre">below</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L152-L169"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.below" title="Permalink to this definition"></a></dt>
<dd><p>Put pictures under this picture.
Returns string, baseline arguments for stringPict.
Baseline is baseline of top picture</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.printing.pretty.pretty_symbology</span> <span class="kn">import</span> <span class="n">pretty_use_unicode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">pretty_use_unicode</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stringPict</span><span class="p">(</span><span class="s1">&#39;x+3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">below</span><span class="p">(</span><span class="n">stringPict</span><span class="o">.</span><span class="n">LINE</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">x+3</span>
<span class="go">---</span>
<span class="go"> 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.height">
<span class="sig-name descname"><span class="pre">height</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L49-L51"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.height" title="Permalink to this definition"></a></dt>
<dd><p>The height of the picture in characters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.left">
<span class="sig-name descname"><span class="pre">left</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L107-L111"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.left" title="Permalink to this definition"></a></dt>
<dd><p>Put pictures (left to right) at left.
Returns string, baseline arguments for stringPict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.next">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L57-L87"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.next" title="Permalink to this definition"></a></dt>
<dd><p>Put a string of stringPicts next to each other.
Returns string, baseline arguments for stringPict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.parens">
<span class="sig-name descname"><span class="pre">parens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'('</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">')'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ifascii_nougly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L180-L204"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.parens" title="Permalink to this definition"></a></dt>
<dd><p>Put parentheses around self.
Returns string, baseline arguments for stringPict.</p>
<p>left or right can be None or empty string which means ‘no paren from
that side’</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.render">
<span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L206-L254"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.render" title="Permalink to this definition"></a></dt>
<dd><p>Return the string form of self.</p>
<p>Unless the argument line_break is set to False, it will
break the expression in a form that can be printed
on the terminal without being broken up.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.right">
<span class="sig-name descname"><span class="pre">right</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L89-L105"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.right" title="Permalink to this definition"></a></dt>
<dd><p>Put pictures next to this one.
Returns string, baseline arguments for stringPict.
(Multiline) strings are allowed, and are given a baseline of 0.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.printing.pretty.pretty_symbology</span> <span class="kn">import</span> <span class="n">pretty_use_unicode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">pretty_use_unicode</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stringPict</span><span class="p">(</span><span class="s1">&#39;10&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">right</span><span class="p">(</span><span class="s1">&#39; + &#39;</span><span class="p">,</span> <span class="n">stringPict</span><span class="p">(</span><span class="s1">&#39;1</span><span class="se">\r</span><span class="s1">-</span><span class="se">\r</span><span class="s1">2&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">     1</span>
<span class="go">10 + -</span>
<span class="go">     2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.stack">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L113-L150"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.stack" title="Permalink to this definition"></a></dt>
<dd><p>Put pictures on top of each other,
from top to bottom.
Returns string, baseline arguments for stringPict.
The baseline is the baseline of the second picture.
Everything is centered.
Baseline is the baseline of the second picture.
Strings are allowed.
The special value stringPict.LINE is a row of ‘-’ extended to the width.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.terminal_width">
<span class="sig-name descname"><span class="pre">terminal_width</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L256-L258"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.terminal_width" title="Permalink to this definition"></a></dt>
<dd><p>Return the terminal width if possible, otherwise return 0.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.stringPict.width">
<span class="sig-name descname"><span class="pre">width</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L53-L55"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.stringPict.width" title="Permalink to this definition"></a></dt>
<dd><p>The width of the picture in characters.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.printing.pretty.stringpict.prettyForm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.printing.pretty.stringpict.</span></span><span class="sig-name descname"><span class="pre">prettyForm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unicode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/pretty/stringpict.py#L280-L403"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.pretty.stringpict.prettyForm" title="Permalink to this definition"></a></dt>
<dd><p>Extension of the stringPict class that knows about basic math applications,
optimizing double minus signs.</p>
<p>“Binding” is interpreted as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ATOM this is an atom: never needs to be parenthesized
FUNC this is a function application: parenthesize if added (?)
DIV  this is a division: make wider division if divided
POW  this is a power: only parenthesize if exponent
MUL  this is a multiplication: parenthesize if powered
ADD  this is an addition: parenthesize if multiplied or powered
NEG  this is a negative number: optimize if added, parenthesize if
     multiplied or powered
OPEN this is an open object: parenthesize if added, multiplied, or
     powered (example: Piecewise)
</pre></div>
</div>
</dd></dl>

</section>
<section id="dotprint">
<h2>dotprint<a class="headerlink" href="#dotprint" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="diofant.printing.dot.dotprint">
<span class="sig-prename descclassname"><span class="pre">diofant.printing.dot.</span></span><span class="sig-name descname"><span class="pre">dotprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">expr,</span> <span class="pre">styles=[(&lt;class</span> <span class="pre">'diofant.core.basic.Basic'&gt;,</span> <span class="pre">{'color':</span> <span class="pre">'blue',</span> <span class="pre">'shape':</span> <span class="pre">'ellipse'}),</span> <span class="pre">(&lt;class</span> <span class="pre">'diofant.core.expr.Expr'&gt;,</span> <span class="pre">{'color':</span> <span class="pre">'black'})],</span> <span class="pre">atom=&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">maxdepth=None,</span> <span class="pre">repeat=True,</span> <span class="pre">labelfunc=&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/printing/dot.py#L106-L189"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.printing.dot.dotprint" title="Permalink to this definition"></a></dt>
<dd><p>DOT description of a Diofant expression tree</p>
<p>Options are</p>
<p><code class="docutils literal notranslate"><span class="pre">styles</span></code>: Styles for different classes.  The default is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[(Basic, {&#39;color&#39;: &#39;blue&#39;, &#39;shape&#39;: &#39;ellipse&#39;}),
(Expr, {&#39;color&#39;: &#39;black&#39;})]``
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">atom</span></code>: Function used to determine if an arg is an atom.  The default is</dt><dd><p><code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">not</span> <span class="pre">isinstance(x,</span> <span class="pre">Basic)</span></code>.  Another good choice is
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">not</span> <span class="pre">x.args</span></code>.</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">maxdepth</span></code>: The maximum depth.  The default is None, meaning no limit.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">repeat</span></code>: Whether to different nodes for separate common subexpressions.</dt><dd><p>The default is True.  For example, for <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">x*y</span></code> with
<code class="docutils literal notranslate"><span class="pre">repeat=True</span></code>, it will have two nodes for <code class="docutils literal notranslate"><span class="pre">x</span></code> and with
<code class="docutils literal notranslate"><span class="pre">repeat=False</span></code>, it will have one (warning: even if it appears
twice in the same object, like Pow(x, x), it will still only appear
only once.  Hence, with repeat=False, the number of arrows out of an
object might not equal the number of args it has).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">labelfunc</span></code>: How to label leaf nodes.  The default is <code class="docutils literal notranslate"><span class="pre">str</span></code>.  Another</dt><dd><p>good option is <code class="docutils literal notranslate"><span class="pre">repr</span></code>. For example with <code class="docutils literal notranslate"><span class="pre">str</span></code>, the leaf nodes
of <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code> are labeled, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code>.  With <code class="docutils literal notranslate"><span class="pre">repr</span></code>, they
are labeled <code class="docutils literal notranslate"><span class="pre">Symbol('x')</span></code> and <code class="docutils literal notranslate"><span class="pre">Integer(1)</span></code>.</p>
</dd>
</dl>
<p>Additional keyword arguments are included as styles for the graph.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dotprint</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">digraph{</span>

<span class="go"># Graph style</span>
<span class="go">&quot;bgcolor&quot;=&quot;transparent&quot;</span>
<span class="go">&quot;ordering&quot;=&quot;out&quot;</span>
<span class="go">&quot;rankdir&quot;=&quot;TD&quot;</span>

<span class="go">#########</span>
<span class="go"># Nodes #</span>
<span class="go">#########</span>

<span class="go">&quot;Add(Symbol(&#39;x&#39;), Integer(2))_()&quot; [&quot;color&quot;=&quot;black&quot;, &quot;label&quot;=&quot;Add&quot;, &quot;shape&quot;=&quot;ellipse&quot;];</span>
<span class="go">&quot;Integer(2)_(0,)&quot; [&quot;color&quot;=&quot;black&quot;, &quot;label&quot;=&quot;2&quot;, &quot;shape&quot;=&quot;ellipse&quot;];</span>
<span class="go">&quot;Symbol(&#39;x&#39;)_(1,)&quot; [&quot;color&quot;=&quot;black&quot;, &quot;label&quot;=&quot;x&quot;, &quot;shape&quot;=&quot;ellipse&quot;];</span>

<span class="go">#########</span>
<span class="go"># Edges #</span>
<span class="go">#########</span>

<span class="go">&quot;Add(Symbol(&#39;x&#39;), Integer(2))_()&quot; -&gt; &quot;Integer(2)_(0,)&quot;;</span>
<span class="go">&quot;Add(Symbol(&#39;x&#39;), Integer(2))_()&quot; -&gt; &quot;Symbol(&#39;x&#39;)_(1,)&quot;;</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="polys.html" class="btn btn-neutral float-left" title="Polynomials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="interactive.html" class="btn btn-neutral float-right" title="Interactive" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2006-2022 SymPy Development Team, 2013-2023 Sergey B Kirpichev.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147167689-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-147167689-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>