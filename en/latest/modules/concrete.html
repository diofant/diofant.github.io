<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Concrete Mathematics &mdash; Diofant 0.14.0a5.dev12+g5b745cfef documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script>window.MathJax = {"CommonHTML": {"linebreaks": {"automatic": true}}, "HTML-CSS": {"linebreaks": {"automatic": true}}, "SVG": {"linebreaks": {"automatic": true}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Mathematical Functions" href="functions/index.html" />
    <link rel="prev" title="Number Theory" href="ntheory.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command-Line Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="config.html">Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="combinatorics/index.html">Combinatorics</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntheory.html">Number Theory</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Concrete Mathematics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hypergeometric-terms">Hypergeometric terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#concrete-class-reference">Concrete Class Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="#concrete-functions-reference">Concrete Functions Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="functions/index.html">Mathematical Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="geometry/index.html">Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrals.html">Integrals</a></li>
<li class="toctree-l2"><a class="reference internal" href="logic.html">Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="domains.html">Domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="matrices/index.html">Matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="polys.html">Polynomials</a></li>
<li class="toctree-l2"><a class="reference internal" href="printing.html">Printing</a></li>
<li class="toctree-l2"><a class="reference internal" href="interactive.html">Interactive</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="sets.html">Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="simplify/simplify.html">Simplify</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats.html">Stats</a></li>
<li class="toctree-l2"><a class="reference internal" href="solvers/index.html">Solvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="tensor/index.html">Tensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="parsing.html">Parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="calculus/index.html">Calculus</a></li>
<li class="toctree-l2"><a class="reference internal" href="diffgeom.html">Differential Geometry</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../internals/index.html">Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aboutus.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sources.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Diofant</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Reference</a></li>
      <li class="breadcrumb-item active">Concrete Mathematics</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/concrete.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="concrete-mathematics">
<h1>Concrete Mathematics<a class="headerlink" href="#concrete-mathematics" title="Permalink to this heading"></a></h1>
<section id="hypergeometric-terms">
<h2>Hypergeometric terms<a class="headerlink" href="#hypergeometric-terms" title="Permalink to this heading"></a></h2>
<p>The center stage, in recurrence solving and summations, play hypergeometric
terms. Formally these are sequences annihilated by first order linear
recurrence operators. In simple words if we are given term <span class="math notranslate nohighlight">\(a(n)\)</span> then it is
hypergeometric if its consecutive term ratio is a rational function in <span class="math notranslate nohighlight">\(n\)</span>.</p>
<p>To check if a sequence is of this type you can use the <code class="docutils literal notranslate"><span class="pre">is_hypergeometric</span></code>
method which is available in Basic class. Here is simple example involving a
polynomial:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Of course polynomials are hypergeometric but are there any more complicated
sequences of this type? Here are some trivial examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rf</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ff</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We see that all species used in summations and other parts of concrete
mathematics are hypergeometric. Note also that binomial coefficients and both
rising and falling factorials are hypergeometric in both their arguments:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rf</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ff</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>To say more, all previously shown examples are valid for integer linear
arguments:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">factorial</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">binomial</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rf</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ff</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">7</span><span class="p">))</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However nonlinear arguments make those sequences fail to be hypergeometric:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">is_hypergeometric</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>If not only the knowledge of being hypergeometric or not is needed, you can use
<code class="docutils literal notranslate"><span class="pre">hypersimp()</span></code> function. It will try to simplify combinatorial expression and
if the term given is hypergeometric it will return a quotient of polynomials of
minimal degree. Otherwise is will return <span class="math notranslate nohighlight">\(None\)</span> to say that sequence is not
hypergeometric:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hypersimp</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">),</span> <span class="n">n</span><span class="p">)</span>
<span class="go">2*(n + 1)*(2*n + 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hypersimp</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="concrete-class-reference">
<h2>Concrete Class Reference<a class="headerlink" href="#concrete-class-reference" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.concrete.summations.Sum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.concrete.summations.</span></span><span class="sig-name descname"><span class="pre">Sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">assumptions</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/summations.py#L11-L408"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.summations.Sum" title="Permalink to this definition"></a></dt>
<dd><p>Represents an unevaluated summation.</p>
<p><code class="docutils literal notranslate"><span class="pre">Sum</span></code> represents a finite or infinite series, with the first
argument being the general form of terms in the series (which
usually depend on the bound variable <code class="docutils literal notranslate"><span class="pre">symbol</span></code>), and the second
argument being <code class="docutils literal notranslate"><span class="pre">(symbol,</span> <span class="pre">start,</span> <span class="pre">end)</span></code>, with <code class="docutils literal notranslate"><span class="pre">symbol</span></code> taking
all integer values from <code class="docutils literal notranslate"><span class="pre">start</span></code> through <code class="docutils literal notranslate"><span class="pre">end</span></code> (inclusive).</p>
<p>For <code class="docutils literal notranslate"><span class="pre">start</span> <span class="pre">&lt;</span> <span class="pre">end</span></code> we adopt definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sum</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span> <span class="o">=</span> <span class="o">-</span><span class="n">Sum</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">start</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>The summation convention for <code class="docutils literal notranslate"><span class="pre">start</span> <span class="pre">&lt;</span> <span class="pre">end</span></code> described by Karr
in <span id="id1">[<a class="reference internal" href="../sources.html#id137" title="Michael Karr. Summation in Finite Terms. Journal of the ACM, 28(2):305–350, 1981. doi:10.1145/322248.322255.">Kar81</a>]</span>, especially definition 3 of section 1.4.
The only difference with the reference is that Karr defines all
sums with the upper limit being exclusive.  This is in contrast to
the usual mathematical notation, which we adopt, but does not
affect the summation convention.  Indeed we have:</p>
<div class="math notranslate nohighlight">
\[\sum_{m \leq i &lt; n} f_i = \sum_{i = m}^{n - 1} f_i\]</div>
<p>This convention allows us to preserve the splitting identity</p>
<div class="math notranslate nohighlight">
\[\sum\limits_{i=m}^n f_i = \sum\limits_{i=m}^l f_i +
                          \sum\limits_{i=l+1}^n f_i\]</div>
<p>regardless of the ordering of <span class="math notranslate nohighlight">\(m\)</span>, <span class="math notranslate nohighlight">\(l\)</span> and <span class="math notranslate nohighlight">\(n\)</span>.</p>
<p>Note that it also follows:</p>
<div class="math notranslate nohighlight">
\[\sum\limits_{i=m}^{m-1} f_i = 0\]</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">k</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">m**3/3 + m**2/2 + m/6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="n">k</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">E**x</span>
</pre></div>
</div>
<p>An example showing that the symbolic result of a summation is still
valid for seemingly nonsensical values of the limits. Then the Karr
convention allows us to give a perfectly valid interpretation to
those sums by interchanging the limits according to the adopted rule:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">n**2/2 + n/2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">n</span><span class="p">:</span> <span class="o">-</span><span class="mi">4</span><span class="p">})</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="o">-</span><span class="n">n</span><span class="p">,</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">6</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.summations.summation" title="diofant.concrete.summations.summation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">summation</span></code></a>, <a class="reference internal" href="#diofant.concrete.products.Product" title="diofant.concrete.products.Product"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.products.Product</span></code></a>, <a class="reference internal" href="#diofant.concrete.products.product" title="diofant.concrete.products.product"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.products.product</span></code></a></p>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Summation">https://en.wikipedia.org/wiki/Summation</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.concrete.summations.Sum.euler_maclaurin">
<span class="sig-name descname"><span class="pre">euler_maclaurin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_integral</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/summations.py#L157-L256"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.summations.Sum.euler_maclaurin" title="Permalink to this definition"></a></dt>
<dd><p>Return an Euler-Maclaurin approximation of self, where m is the
number of leading terms to sum directly and n is the number of
terms in the tail.</p>
<p>With m = n = 0, this is simply the corresponding integral
plus a first-order endpoint correction.</p>
<p>Returns (s, e) where s is the Euler-Maclaurin approximation
and e is the estimated error (taken to be the magnitude of
the first omitted term in the tail):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span><span class="o">.</span><span class="n">evalf</span><span class="p">()</span>
<span class="go">1.28333333333333</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">Sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">euler_maclaurin</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">-log(2) + 7/20 + log(5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sstr</span><span class="p">((</span><span class="n">s</span><span class="o">.</span><span class="n">evalf</span><span class="p">(),</span> <span class="n">e</span><span class="o">.</span><span class="n">evalf</span><span class="p">()),</span> <span class="n">full_prec</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">(1.26629073187415, 0.0175000000000000)</span>
</pre></div>
</div>
<p>The endpoints may be symbolic:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">Sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span><span class="o">.</span><span class="n">euler_maclaurin</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">-log(a) + log(b) + 1/(2*b) + 1/(2*a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span>
<span class="go">Abs(1/(12*b**2) - 1/(12*a**2))</span>
</pre></div>
</div>
<p>If the function is a polynomial of degree at most 2n+1, the
Euler-Maclaurin formula becomes exact (and e = 0 is returned):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span><span class="o">.</span><span class="n">euler_maclaurin</span><span class="p">()</span>
<span class="go">(b**2/2 + b/2 - 1, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">b**2/2 + b/2 - 1</span>
</pre></div>
</div>
<p>With a nonzero <span class="math notranslate nohighlight">\(eps\)</span> specified, the summation is ended
as soon as the remainder term is less than the epsilon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.concrete.summations.Sum.findrecur">
<span class="sig-name descname"><span class="pre">findrecur</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">F</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Function('F')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/summations.py#L332-L408"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.summations.Sum.findrecur" title="Permalink to this definition"></a></dt>
<dd><p>Find a recurrence formula for the summand of the sum.</p>
<p>Given a sum <span class="math notranslate nohighlight">\(f(n) = \sum_k F(n, k)\)</span>, where <span class="math notranslate nohighlight">\(F(n, k)\)</span> is
doubly hypergeometric (that’s, both <span class="math notranslate nohighlight">\(F(n + 1, k)/F(n, k)\)</span>
and <span class="math notranslate nohighlight">\(F(n, k + 1)/F(n, k)\)</span> are rational functions of <span class="math notranslate nohighlight">\(n\)</span> and <span class="math notranslate nohighlight">\(k\)</span>),
we find a recurrence for the summand <span class="math notranslate nohighlight">\(F(n, k)\)</span> of the form</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\sum_{i=0}^I\sum_{j=0}^J a_{i,j}F(n - j, k - i) = 0\]</div>
</div></blockquote>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Sum</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">k</span><span class="p">)),</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">findrecur</span><span class="p">()</span>
<span class="go">-F(n, k) + F(n - 1, k) + F(n - 1, k - 1)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>We use Sister Celine’s algorithm, see <span id="id2">[<a class="reference internal" href="../sources.html#id113" title="Marko Petkovšek, Herbert S. Wilf, and Doron Zeilberger. A \(=\) B. AK Peters, Ltd., Wellesley, MA, USA, 1997. URL: http://sites.math.rutgers.edu/~zeilberg/AeqB.pdf.">PetkovvsekWZ97</a>]</span>, Ch. 4.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.concrete.summations.Sum.reverse_order">
<span class="sig-name descname"><span class="pre">reverse_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/summations.py#L258-L330"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.summations.Sum.reverse_order" title="Permalink to this definition"></a></dt>
<dd><p>Reverse the order of a limit in a Sum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*indices</strong> (<em>list</em>) – The selectors in the argument <code class="docutils literal notranslate"><span class="pre">indices</span></code> specify some indices whose
limits get reversed.  These selectors are either variable names or
numerical indices counted starting from the inner-most limit tuple.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Sum(-x, (x, 4, -1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">Sum(x*y, (x, 6, 0), (y, 7, -1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Sum(-x, (x, b + 1, a - 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Sum(-x, (x, b + 1, a - 1))</span>
</pre></div>
</div>
<p>While one should prefer variable names when specifying which limits
to reverse, the index counting notation comes in handy in case there
are several symbols with the same name.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">Sum(x**2, (x, a, b), (x, c, d))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s0</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s0</span>
<span class="go">Sum(-x**2, (x, b + 1, a - 1), (x, c, d))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">s0</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span>
<span class="go">Sum(x**2, (x, b + 1, a - 1), (x, d + 1, c - 1))</span>
</pre></div>
</div>
<p>Of course we can mix both notations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">Sum(x*y, (x, b + 1, a - 1), (y, 6, 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">Sum(x*y, (x, b + 1, a - 1), (y, 6, 1))</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder</span></code></a></p>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><span id="id3">[<a class="reference internal" href="../sources.html#id137" title="Michael Karr. Summation in Finite Terms. Journal of the ACM, 28(2):305–350, 1981. doi:10.1145/322248.322255.">Kar81</a>]</span></p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.concrete.products.Product">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.concrete.products.</span></span><span class="sig-name descname"><span class="pre">Product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">assumptions</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/products.py#L8-L270"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.products.Product" title="Permalink to this definition"></a></dt>
<dd><p>Represents an unevaluated products.</p>
<p><code class="docutils literal notranslate"><span class="pre">Product</span></code> represents a finite or infinite product, with the first
argument being the general form of terms in the series (which
usually depend on the bound variable <code class="docutils literal notranslate"><span class="pre">symbol</span></code>), and the second
argument being <code class="docutils literal notranslate"><span class="pre">(symbol,</span> <span class="pre">start,</span> <span class="pre">end)</span></code>, with <code class="docutils literal notranslate"><span class="pre">symbol</span></code> taking
all integer values from <code class="docutils literal notranslate"><span class="pre">start</span></code> through <code class="docutils literal notranslate"><span class="pre">end</span></code> (inclusive).</p>
<p class="rubric">Notes</p>
<p>We follow the the analogue of the summation convention described by
Karr <span id="id4">[<a class="reference internal" href="../sources.html#id137" title="Michael Karr. Summation in Finite Terms. Journal of the ACM, 28(2):305–350, 1981. doi:10.1145/322248.322255.">Kar81</a>]</span>, adopted by the
<a class="reference internal" href="#diofant.concrete.summations.Sum" title="diofant.concrete.summations.Sum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sum</span></code></a>:</p>
<div class="math notranslate nohighlight">
\[\prod\limits_{i=m}^n f_i = \frac{1}{\prod\limits_{i=n+1}^{m-1}f_i}\]</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Product</span><span class="p">(</span><span class="n">k</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">factorial(m)**2</span>
</pre></div>
</div>
<p>Products with the lower limit being larger than the upper one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Product</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">120</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Product</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">120</span>
</pre></div>
</div>
<p>The empty product:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Product</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.summations.Sum" title="diofant.concrete.summations.Sum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.summations.Sum</span></code></a>, <a class="reference internal" href="#diofant.concrete.summations.summation" title="diofant.concrete.summations.summation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.summations.summation</span></code></a>, <a class="reference internal" href="#diofant.concrete.products.product" title="diofant.concrete.products.product"><code class="xref py py-obj docutils literal notranslate"><span class="pre">product</span></code></a></p>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Multiplication#Capital_pi_notation">https://en.wikipedia.org/wiki/Multiplication#Capital_pi_notation</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Empty_product">https://en.wikipedia.org/wiki/Empty_product</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.concrete.products.Product.reverse_order">
<span class="sig-name descname"><span class="pre">reverse_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/products.py#L191-L270"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.products.Product.reverse_order" title="Permalink to this definition"></a></dt>
<dd><p>Reverse the order of a limit in a Product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*indices</strong> (<em>list</em>) – The selectors in the argument <code class="docutils literal notranslate"><span class="pre">indices</span></code> specify some indices whose
limits get reversed.  These selectors are either variable names or
numerical indices counted starting from the inner-most limit tuple.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Product</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Pr</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Pr</span>
<span class="go">Product(1/x, (x, b + 1, a - 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Pr</span> <span class="o">=</span> <span class="n">Pr</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Pr</span>
<span class="go">1/RisingFactorial(b + 1, a - b - 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simplify</span><span class="p">(</span><span class="n">Pr</span><span class="p">)</span>
<span class="go">gamma(b + 1)/gamma(a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span>
<span class="go">RisingFactorial(a, -a + b + 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simplify</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">gamma(b + 1)/gamma(a)</span>
</pre></div>
</div>
<p>While one should prefer variable names when specifying which limits
to reverse, the index counting notation comes in handy in case there
are several symbols with the same name.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">Sum(x*y, (x, a, b), (y, c, d))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s0</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s0</span>
<span class="go">Sum(-x*y, (x, b + 1, a - 1), (y, c, d))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">s0</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span>
<span class="go">Sum(x*y, (x, b + 1, a - 1), (y, d + 1, c - 1))</span>
</pre></div>
</div>
<p>Of course we can mix both notations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">Sum(x*y, (x, b + 1, a - 1), (y, 6, 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">reverse_order</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">Sum(x*y, (x, b + 1, a - 1), (y, 6, 1))</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder</span></code></a></p>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><span id="id5">[<a class="reference internal" href="../sources.html#id137" title="Michael Karr. Summation in Finite Terms. Journal of the ACM, 28(2):305–350, 1981. doi:10.1145/322248.322255.">Kar81</a>]</span></p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_limits.ExprWithLimits">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.concrete.expr_with_limits.</span></span><span class="sig-name descname"><span class="pre">ExprWithLimits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">assumptions</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/expr_with_limits.py#L52-L335"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.expr_with_limits.ExprWithLimits" title="Permalink to this definition"></a></dt>
<dd><p>Represents an expression with limits.</p>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_limits.ExprWithLimits.as_dummy">
<span class="sig-name descname"><span class="pre">as_dummy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/expr_with_limits.py#L209-L254"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.expr_with_limits.ExprWithLimits.as_dummy" title="Permalink to this definition"></a></dt>
<dd><p>Replace instances of the given dummy variables with explicit dummy
counterparts to make clear what are dummy variables and what
are real-world symbols in an object.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Integral</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">as_dummy</span><span class="p">()</span>
<span class="go">Integral(_x, (_x, x, _y), (_y, x, y))</span>
</pre></div>
</div>
<p>If the object supports the “integral at” limit <code class="docutils literal notranslate"><span class="pre">(x,)</span></code> it
is not treated as a dummy, but the explicit form, <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">x)</span></code>
of length 2 does treat the variable as a dummy.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Integral</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">as_dummy</span><span class="p">()</span>
<span class="go">Integral(x, x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Integral</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">as_dummy</span><span class="p">()</span>
<span class="go">Integral(_x, (_x, x))</span>
</pre></div>
</div>
<p>If there were no dummies in the original expression, then the
the symbols which cannot be changed by subs() are clearly seen as
those with an underscore prefix.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.variables" title="diofant.concrete.expr_with_limits.ExprWithLimits.variables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.variables</span></code></a></dt><dd><p>Lists the integration variables</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">free_symbols</span></span><a class="headerlink" href="#diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols" title="Permalink to this definition"></a></dt>
<dd><p>This method returns the symbols in the object, excluding those
that take on a specific value (i.e. the dummy symbols).</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">free_symbols</span>
<span class="go">{y}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_limits.ExprWithLimits.function">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">function</span></span><a class="headerlink" href="#diofant.concrete.expr_with_limits.ExprWithLimits.function" title="Permalink to this definition"></a></dt>
<dd><p>Return the function applied across limits.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Integral</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">function</span>
<span class="go">x**2</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.limits" title="diofant.concrete.expr_with_limits.ExprWithLimits.limits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.limits</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.variables" title="diofant.concrete.expr_with_limits.ExprWithLimits.variables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.variables</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols" title="diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_limits.ExprWithLimits.is_number">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_number</span></span><a class="headerlink" href="#diofant.concrete.expr_with_limits.ExprWithLimits.is_number" title="Permalink to this definition"></a></dt>
<dd><p>Return True if the Sum has no free symbols, else False.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_limits.ExprWithLimits.limits">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">limits</span></span><a class="headerlink" href="#diofant.concrete.expr_with_limits.ExprWithLimits.limits" title="Permalink to this definition"></a></dt>
<dd><p>Return the limits of expression.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.abc</span> <span class="kn">import</span> <span class="n">i</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Integral</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">limits</span>
<span class="go">((i, 1, 3),)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.function" title="diofant.concrete.expr_with_limits.ExprWithLimits.function"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.function</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.variables" title="diofant.concrete.expr_with_limits.ExprWithLimits.variables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.variables</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols" title="diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_limits.ExprWithLimits.variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">variables</span></span><a class="headerlink" href="#diofant.concrete.expr_with_limits.ExprWithLimits.variables" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of the dummy variables</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.abc</span> <span class="kn">import</span> <span class="n">i</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">variables</span>
<span class="go">[i]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.function" title="diofant.concrete.expr_with_limits.ExprWithLimits.function"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.function</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.limits" title="diofant.concrete.expr_with_limits.ExprWithLimits.limits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.limits</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols" title="diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.free_symbols</span></code></a></p>
<dl class="simple">
<dt><a class="reference internal" href="#diofant.concrete.expr_with_limits.ExprWithLimits.as_dummy" title="diofant.concrete.expr_with_limits.ExprWithLimits.as_dummy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_limits.ExprWithLimits.as_dummy</span></code></a></dt><dd><p>Rename dummy variables</p>
</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_intlimits.ExprWithIntLimits">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.concrete.expr_with_intlimits.</span></span><span class="sig-name descname"><span class="pre">ExprWithIntLimits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">assumptions</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/expr_with_intlimits.py#L12-L300"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits" title="Permalink to this definition"></a></dt>
<dd><p>Represents an expression with integer limits.</p>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.change_index">
<span class="sig-name descname"><span class="pre">change_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trafo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/expr_with_intlimits.py#L20-L139"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.change_index" title="Permalink to this definition"></a></dt>
<dd><p>Change index of a Sum or Product.</p>
<p>Perform a linear transformation <span class="math notranslate nohighlight">\(x \mapsto a x + b\)</span> on the index variable
<span class="math notranslate nohighlight">\(x\)</span>. For <span class="math notranslate nohighlight">\(a\)</span> the only values allowed are <span class="math notranslate nohighlight">\(\pm 1\)</span>. A new variable to be used
after the change of index can also be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var</strong> (<em>Symbol</em>) – specifies the index variable <span class="math notranslate nohighlight">\(x\)</span> to transform.</p></li>
<li><p><strong>trafo</strong> (<em>Expr</em>) – The linear transformation in terms of <code class="docutils literal notranslate"><span class="pre">var</span></code>.</p></li>
<li><p><strong>newvar</strong> (<em>Symbol, optional</em>) – Replacement symbol to be used instead of
<code class="docutils literal notranslate"><span class="pre">var</span></code> in the final expression.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.abc</span> <span class="kn">import</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">-a**2/2 + a/2 + b**2/2 + b/2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_index</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span>
<span class="go">Sum(y - 1, (y, a + 1, b + 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">-a**2/2 + a/2 + b**2/2 + b/2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_index</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span>
<span class="go">Sum(-y, (y, -b, -a))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">-a**2/2 + a/2 + b**2/2 + b/2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_index</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="n">u</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span>
<span class="go">Sum(-u + x, (x, a + u, b + u))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">-a**2/2 - a*u + a/2 + b**2/2 + b*u + b/2 - u*(-a + b + 1) + u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simplify</span><span class="p">(</span><span class="n">sn</span><span class="o">.</span><span class="n">doit</span><span class="p">())</span>
<span class="go">-a**2/2 + a/2 + b**2/2 + b/2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_index</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">x</span> <span class="o">-</span> <span class="n">u</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span>
<span class="go">Sum(-u - y, (y, -b - u, -a - u))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">-a**2/2 - a*u + a/2 + b**2/2 + b*u + b/2 - u*(-a + b + 1) + u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simplify</span><span class="p">(</span><span class="n">sn</span><span class="o">.</span><span class="n">doit</span><span class="p">())</span>
<span class="go">-a**2/2 + a/2 + b**2/2 + b/2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Product</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>
<span class="go">Product(i*j**2, (i, a, b), (j, c, d))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">change_index</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">3</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span>
<span class="go">Product(j**2*(k - 3), (k, a + 3, b + 3), (j, c, d))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span> <span class="o">=</span> <span class="n">p2</span><span class="o">.</span><span class="n">change_index</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="o">-</span><span class="n">j</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span>
<span class="go">Product(l**2*(k - 3), (k, a + 3, b + 3), (l, -d, -c))</span>
</pre></div>
</div>
<p>When dealing with symbols only, we can make a
general linear transformation:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_index</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">u</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">v</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span>
<span class="go">Sum((-v + y)/u, (y, b*u + v, a*u + v))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">-v*(a*u - b*u + 1)/u + (a**2*u**2/2 + a*u*v + a*u/2 - b**2*u**2/2 - b*u*v + b*u/2 + v)/u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simplify</span><span class="p">(</span><span class="n">sn</span><span class="o">.</span><span class="n">doit</span><span class="p">())</span>
<span class="go">a**2*u/2 + a/2 - b**2*u/2 + b/2</span>
</pre></div>
</div>
<p>However, the last result can be inconsistent with usual
summation where the index increment is always 1. This is
obvious as we get back the original value only for <code class="docutils literal notranslate"><span class="pre">u</span></code>
equal +1 or -1.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder</span></code></a>, <a class="reference internal" href="#diofant.concrete.summations.Sum.reverse_order" title="diofant.concrete.summations.Sum.reverse_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.summations.Sum.reverse_order</span></code></a>, <a class="reference internal" href="#diofant.concrete.products.Product.reverse_order" title="diofant.concrete.products.Product.reverse_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.products.Product.reverse_order</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/expr_with_intlimits.py#L141-L179"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index" title="Permalink to this definition"></a></dt>
<dd><p>Return the index of a dummy variable in the list of limits.</p>
<p>Note that we start counting with 0 at the inner-most
limits tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>Symbol</em>) – a dummy variable</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Product</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Product</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder</span></code></a>, <a class="reference internal" href="#diofant.concrete.summations.Sum.reverse_order" title="diofant.concrete.summations.Sum.reverse_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.summations.Sum.reverse_order</span></code></a>, <a class="reference internal" href="#diofant.concrete.products.Product.reverse_order" title="diofant.concrete.products.Product.reverse_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.products.Product.reverse_order</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder">
<span class="sig-name descname"><span class="pre">reorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/expr_with_intlimits.py#L181-L245"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder" title="Permalink to this definition"></a></dt>
<dd><p>Reorder limits in a expression containing a Sum or a Product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*arg</strong> (<em>list of tuples</em>) – These tuples can contain numerical indices or index
variable names or involve both.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.abc</span> <span class="kn">import</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span><span class="o">.</span><span class="n">reorder</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
<span class="go">Sum(x*y, (y, c, d), (x, a, b))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">z</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">),</span> <span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span><span class="o">.</span><span class="n">reorder</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span>
<span class="go">Sum(x*y*z, (z, e, f), (y, c, d), (x, a, b))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Product</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">z</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">),</span> <span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">.</span><span class="n">reorder</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span>
<span class="go">Product(x*y*z, (z, e, f), (y, c, d), (x, a, b))</span>
</pre></div>
</div>
<p>We can also select the index variables by counting them, starting
with the inner-most one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span><span class="o">.</span><span class="n">reorder</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">Sum(x**2, (x, c, d), (x, a, b))</span>
</pre></div>
</div>
<p>And of course we can mix both schemes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span><span class="o">.</span><span class="n">reorder</span><span class="p">((</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
<span class="go">Sum(x*y, (y, c, d), (x, a, b))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span><span class="o">.</span><span class="n">reorder</span><span class="p">((</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">Sum(x*y, (y, c, d), (x, a, b))</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit</span></code></a>, <a class="reference internal" href="#diofant.concrete.summations.Sum.reverse_order" title="diofant.concrete.summations.Sum.reverse_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.summations.Sum.reverse_order</span></code></a>, <a class="reference internal" href="#diofant.concrete.products.Product.reverse_order" title="diofant.concrete.products.Product.reverse_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.products.Product.reverse_order</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit">
<span class="sig-name descname"><span class="pre">reorder_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/expr_with_intlimits.py#L247-L300"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder_limit" title="Permalink to this definition"></a></dt>
<dd><p>Interchange two limit tuples of a Sum or Product expression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x, y</strong> (<em>int</em>) – are integers corresponding to the index
variables of the two limits which are to be interchanged.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.abc</span> <span class="kn">import</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">z</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">),</span> <span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span><span class="o">.</span><span class="n">reorder_limit</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">Sum(x*y*z, (z, e, f), (y, c, d), (x, a, b))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span><span class="o">.</span><span class="n">reorder_limit</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">Sum(x**2, (x, c, d), (x, a, b))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Product</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">z</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">),</span> <span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span><span class="o">.</span><span class="n">reorder_limit</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">Product(x*y*z, (z, e, f), (y, c, d), (x, a, b))</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.index</span></code></a>, <a class="reference internal" href="#diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder" title="diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.expr_with_intlimits.ExprWithIntLimits.reorder</span></code></a>, <a class="reference internal" href="#diofant.concrete.summations.Sum.reverse_order" title="diofant.concrete.summations.Sum.reverse_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.summations.Sum.reverse_order</span></code></a>, <a class="reference internal" href="#diofant.concrete.products.Product.reverse_order" title="diofant.concrete.products.Product.reverse_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.products.Product.reverse_order</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="concrete-functions-reference">
<h2>Concrete Functions Reference<a class="headerlink" href="#concrete-functions-reference" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="diofant.concrete.summations.summation">
<span class="sig-prename descclassname"><span class="pre">diofant.concrete.summations.</span></span><span class="sig-name descname"><span class="pre">summation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/summations.py#L411-L453"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.summations.summation" title="Permalink to this definition"></a></dt>
<dd><p>Compute the summation of f with respect to symbols.</p>
<p>The notation for symbols is similar to the notation used in Integral.
summation(f, (i, a, b)) computes the sum of f with respect to i from a to b,
i.e.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                            b
                          ____
                          \   `
summation(f, (i, a, b)) =  )    f
                          /___,
                          i = a
</pre></div>
</div>
<p>If it cannot compute the sum, it returns an unevaluated Sum object.
Repeated sums can be computed by introducing additional symbols tuples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">summation</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
<span class="go">n**2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summation</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">**</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">))</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summation</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">log</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">**</span><span class="n">n</span><span class="p">,</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">oo</span><span class="p">))</span>
<span class="go">Sum(log(n)**(-n), (n, 2, oo))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summation</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">m</span><span class="p">))</span>
<span class="go">m**3/6 + m**2/2 + m/3</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">summation</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="n">n</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">))</span>
<span class="go">E**x</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.concrete.summations.Sum" title="diofant.concrete.summations.Sum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.summations.Sum</span></code></a>, <a class="reference internal" href="#diofant.concrete.products.Product" title="diofant.concrete.products.Product"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.products.Product</span></code></a>, <a class="reference internal" href="#diofant.concrete.products.product" title="diofant.concrete.products.product"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.concrete.products.product</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.concrete.products.product">
<span class="sig-prename descclassname"><span class="pre">diofant.concrete.products.</span></span><span class="sig-name descname"><span class="pre">product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/products.py#L273-L307"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.products.product" title="Permalink to this definition"></a></dt>
<dd><p>Compute the product.</p>
<p>The notation for symbols is similar to the notation used in Sum or
Integral. product(f, (i, a, b)) computes the product of f with
respect to i from a to b, i.e.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                             <span class="n">b</span>
                           <span class="n">_____</span>
<span class="n">product</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span> <span class="o">=</span> <span class="o">|</span>   <span class="o">|</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
                           <span class="o">|</span>   <span class="o">|</span>
                           <span class="n">i</span> <span class="o">=</span> <span class="n">a</span>
</pre></div>
</div>
<p>If it cannot compute the product, it returns an unevaluated Product object.
Repeated products can be computed by introducing additional symbols tuples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">product</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span>
<span class="go">factorial(k)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span>
<span class="go">m**k</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
<span class="go">Product(factorial(k), (k, 1, n))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.concrete.gosper.gosper_normal">
<span class="sig-prename descclassname"><span class="pre">diofant.concrete.gosper.</span></span><span class="sig-name descname"><span class="pre">gosper_normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/gosper.py#L10-L59"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.gosper.gosper_normal" title="Permalink to this definition"></a></dt>
<dd><p>Compute the Gosper’s normal form of <code class="docutils literal notranslate"><span class="pre">f</span></code> and <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<p>Given relatively prime univariate polynomials <code class="docutils literal notranslate"><span class="pre">f</span></code> and <code class="docutils literal notranslate"><span class="pre">g</span></code>,
rewrite their quotient to a normal form defined as follows:</p>
<div class="math notranslate nohighlight">
\[\frac{f(n)}{g(n)} = Z \cdot \frac{A(n) C(n+1)}{B(n) C(n)}\]</div>
<p>where <code class="docutils literal notranslate"><span class="pre">Z</span></code> is an arbitrary constant and <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, <code class="docutils literal notranslate"><span class="pre">C</span></code> are
monic polynomials in <code class="docutils literal notranslate"><span class="pre">n</span></code> with the following properties:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\gcd(A(n), B(n+h)) = 1 \forall h \in \mathbb{N}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\gcd(B(n), C(n+1)) = 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\gcd(A(n), C(n)) = 1\)</span></p></li>
</ol>
<p>This normal form, or rational factorization in other words, is a
crucial step in Gosper’s algorithm and in solving of difference
equations. It can be also used to decide if two hypergeometric
terms are similar or not.</p>
<p>This procedure will return a tuple containing elements of this
factorization in the form <code class="docutils literal notranslate"><span class="pre">(Z*A,</span> <span class="pre">B,</span> <span class="pre">C)</span></code>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gosper_normal</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">3</span><span class="p">),</span> <span class="n">n</span><span class="p">)</span>
<span class="go">(Poly(1/4, n, domain=&#39;QQ&#39;), Poly(n + 3/2, n, domain=&#39;QQ&#39;),</span>
<span class="go"> Poly(n + 1/4, n, domain=&#39;QQ&#39;))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.concrete.gosper.gosper_term">
<span class="sig-prename descclassname"><span class="pre">diofant.concrete.gosper.</span></span><span class="sig-name descname"><span class="pre">gosper_term</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/gosper.py#L62-L125"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.gosper.gosper_term" title="Permalink to this definition"></a></dt>
<dd><p>Compute Gosper’s hypergeometric term for <code class="docutils literal notranslate"><span class="pre">f</span></code>.</p>
<p>Suppose <code class="docutils literal notranslate"><span class="pre">f</span></code> is a hypergeometric term such that:</p>
<div class="math notranslate nohighlight">
\[s_n = \sum_{k=0}^{n-1} f_k\]</div>
<p>and <span class="math notranslate nohighlight">\(f_k\)</span> doesn’t depend on <span class="math notranslate nohighlight">\(n\)</span>. Returns a hypergeometric
term <span class="math notranslate nohighlight">\(g_n\)</span> such that <span class="math notranslate nohighlight">\(g_{n+1} - g_n = f_n\)</span>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gosper_term</span><span class="p">((</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">n</span><span class="p">)</span>
<span class="go">(-n - 1/2)/(n + 1/4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.concrete.gosper.gosper_sum">
<span class="sig-prename descclassname"><span class="pre">diofant.concrete.gosper.</span></span><span class="sig-name descname"><span class="pre">gosper_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/concrete/gosper.py#L128-L170"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.concrete.gosper.gosper_sum" title="Permalink to this definition"></a></dt>
<dd><p>Gosper’s hypergeometric summation algorithm.</p>
<p>Given a hypergeometric term <code class="docutils literal notranslate"><span class="pre">f</span></code> such that:</p>
<div class="math notranslate nohighlight">
\[s_n = \sum_{k=0}^{n-1} f_k\]</div>
<p>and <span class="math notranslate nohighlight">\(f(n)\)</span> doesn’t depend on <span class="math notranslate nohighlight">\(n\)</span>, returns <span class="math notranslate nohighlight">\(g_{n} - g(0)\)</span> where
<span class="math notranslate nohighlight">\(g_{n+1} - g_n = f_n\)</span>, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if <span class="math notranslate nohighlight">\(s_n\)</span> can not be expressed
in closed form as a sum of hypergeometric terms.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gosper_sum</span><span class="p">((</span><span class="mi">4</span><span class="o">*</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
<span class="go">(-factorial(n) + 2*factorial(2*n + 1))/factorial(2*n + 1)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><span id="id6">[<a class="reference internal" href="../sources.html#id113" title="Marko Petkovšek, Herbert S. Wilf, and Doron Zeilberger. A \(=\) B. AK Peters, Ltd., Wellesley, MA, USA, 1997. URL: http://sites.math.rutgers.edu/~zeilberg/AeqB.pdf.">PetkovvsekWZ97</a>]</span></p></li>
</ul>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ntheory.html" class="btn btn-neutral float-left" title="Number Theory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="functions/index.html" class="btn btn-neutral float-right" title="Mathematical Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2006-2022 SymPy Development Team, 2013-2022 Sergey B Kirpichev.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147167689-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-147167689-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>