<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tensor &mdash; Diofant 0.14.0a3.dev72+g4bb2911d9 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script>window.MathJax = {"CommonHTML": {"linebreaks": {"automatic": true}}, "HTML-CSS": {"linebreaks": {"automatic": true}}, "SVG": {"linebreaks": {"automatic": true}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Utilities" href="../utilities/index.html" />
    <link rel="prev" title="Methods" href="index_methods.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">Command-Line Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../config.html">Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.html">Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../combinatorics/index.html">Combinatorics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ntheory.html">Number Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concrete.html">Concrete Mathematics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/index.html">Mathematical Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geometry/index.html">Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrals.html">Integrals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logic.html">Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../domains.html">Domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matrices/index.html">Matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../polys.html">Polynomials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../printing.html">Printing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive.html">Interactive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plotting.html">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../series.html">Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sets.html">Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simplify/simplify.html">Simplify</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stats.html">Stats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solvers/index.html">Solvers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Tensors</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="array.html">N-dim array</a></li>
<li class="toctree-l3"><a class="reference internal" href="indexed.html">Indexed Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_methods.html">Methods</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Tensor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor._TensorManager"><code class="docutils literal notranslate"><span class="pre">_TensorManager</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.TensorIndexType"><code class="docutils literal notranslate"><span class="pre">TensorIndexType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.TensorIndex"><code class="docutils literal notranslate"><span class="pre">TensorIndex</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.tensor_indices"><code class="docutils literal notranslate"><span class="pre">tensor_indices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.TensorSymmetry"><code class="docutils literal notranslate"><span class="pre">TensorSymmetry</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.tensorsymmetry"><code class="docutils literal notranslate"><span class="pre">tensorsymmetry()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.TensorType"><code class="docutils literal notranslate"><span class="pre">TensorType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.TensorHead"><code class="docutils literal notranslate"><span class="pre">TensorHead</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.TensExpr"><code class="docutils literal notranslate"><span class="pre">TensExpr</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.TensAdd"><code class="docutils literal notranslate"><span class="pre">TensAdd</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.TensMul"><code class="docutils literal notranslate"><span class="pre">TensMul</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.canon_bp"><code class="docutils literal notranslate"><span class="pre">canon_bp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.tensor_mul"><code class="docutils literal notranslate"><span class="pre">tensor_mul()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.riemann_cyclic_replace"><code class="docutils literal notranslate"><span class="pre">riemann_cyclic_replace()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#diofant.tensor.tensor.riemann_cyclic"><code class="docutils literal notranslate"><span class="pre">riemann_cyclic()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parsing.html">Parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calculus/index.html">Calculus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diffgeom.html">Differential Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector/index.html">Vectors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../internals/index.html">Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutus.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Diofant</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Reference</a> &raquo;</li>
          <li><a href="index.html">Tensors</a> &raquo;</li>
      <li>Tensor</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/modules/tensor/tensor.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-diofant.tensor.tensor">
<span id="tensor"></span><span id="tensor-tensor"></span><h1>Tensor<a class="headerlink" href="#module-diofant.tensor.tensor" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="diofant.tensor.tensor._TensorManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">_TensorManager</span></span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1122-L1282"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor._TensorManager" title="Permalink to this definition"></a></dt>
<dd><p>Class to manage tensor properties.</p>
<p class="rubric">Notes</p>
<p>Tensors belong to tensor commutation groups; each group has a label
<code class="docutils literal notranslate"><span class="pre">comm</span></code>; there are predefined labels:</p>
<p><code class="docutils literal notranslate"><span class="pre">0</span></code>   tensors commuting with any other tensor</p>
<p><code class="docutils literal notranslate"><span class="pre">1</span></code>   tensors anticommuting among themselves</p>
<p><code class="docutils literal notranslate"><span class="pre">2</span></code>   tensors not commuting, apart with those with <code class="docutils literal notranslate"><span class="pre">comm=0</span></code></p>
<p>Other groups can be defined using <code class="docutils literal notranslate"><span class="pre">set_comm</span></code>; tensors in those
groups commute with those with <code class="docutils literal notranslate"><span class="pre">comm=0</span></code>; by default they
do not commute with any other group.</p>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor._TensorManager.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1280-L1282"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor._TensorManager.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear the TensorManager.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor._TensorManager.comm_i2symbol">
<span class="sig-name descname"><span class="pre">comm_i2symbol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1182-L1184"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor._TensorManager.comm_i2symbol" title="Permalink to this definition"></a></dt>
<dd><p>Returns the symbol corresponding to the commutation group number.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor._TensorManager.comm_symbols2i">
<span class="sig-name descname"><span class="pre">comm_symbols2i</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1162-L1180"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor._TensorManager.comm_symbols2i" title="Permalink to this definition"></a></dt>
<dd><p>Get the commutation group number corresponding to <code class="docutils literal notranslate"><span class="pre">i</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">i</span></code> can be a symbol or a number or a string</p>
<p>If <code class="docutils literal notranslate"><span class="pre">i</span></code> is not already defined its commutation group number
is set.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor._TensorManager.get_comm">
<span class="sig-name descname"><span class="pre">get_comm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1271-L1278"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor._TensorManager.get_comm" title="Permalink to this definition"></a></dt>
<dd><p>Return the commutation parameter for commutation group numbers <code class="docutils literal notranslate"><span class="pre">i,</span> <span class="pre">j</span></code></p>
<p>see <code class="docutils literal notranslate"><span class="pre">_TensorManager.set_comm</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor._TensorManager.set_comm">
<span class="sig-name descname"><span class="pre">set_comm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1186-L1256"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor._TensorManager.set_comm" title="Permalink to this definition"></a></dt>
<dd><p>Set the commutation parameter <code class="docutils literal notranslate"><span class="pre">c</span></code> for commutation groups <code class="docutils literal notranslate"><span class="pre">i,</span> <span class="pre">j</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i, j</strong> (<em>symbols representing commutation groups</em>)</p></li>
<li><p><strong>c</strong> (<em>group commutation number</em>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p><code class="docutils literal notranslate"><span class="pre">i,</span> <span class="pre">j</span></code> can be symbols, strings or numbers,
apart from <code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">2</span></code> which are reserved respectively
for commuting, anticommuting tensors and tensors not commuting
with any other group apart with the commuting tensors.
For the remaining cases, use this method to set the commutation rules;
by default <code class="docutils literal notranslate"><span class="pre">c=None</span></code>.</p>
<p>The group commutation number <code class="docutils literal notranslate"><span class="pre">c</span></code> is assigned in correspondence
to the group commutation symbols; it can be</p>
<p>0        commuting</p>
<p>1        anticommuting</p>
<p>None     no commutation property</p>
<p class="rubric">Examples</p>
<p><code class="docutils literal notranslate"><span class="pre">G</span></code> and <code class="docutils literal notranslate"><span class="pre">GH</span></code> do not commute with themselves and commute with
each other; A is commuting.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">i3</span><span class="p">,</span> <span class="n">i4</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;i0:5&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]],</span> <span class="s1">&#39;Gcomm&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">GH</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;GH&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]],</span> <span class="s1">&#39;GHcomm&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TensorManager</span><span class="o">.</span><span class="n">set_comm</span><span class="p">(</span><span class="s1">&#39;Gcomm&#39;</span><span class="p">,</span> <span class="s1">&#39;GHcomm&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">GH</span><span class="p">(</span><span class="n">i1</span><span class="p">)</span><span class="o">*</span><span class="n">G</span><span class="p">(</span><span class="n">i0</span><span class="p">))</span><span class="o">.</span><span class="n">canon_bp</span><span class="p">()</span>
<span class="go">G(i0)*GH(i1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">G</span><span class="p">(</span><span class="n">i1</span><span class="p">)</span><span class="o">*</span><span class="n">G</span><span class="p">(</span><span class="n">i0</span><span class="p">))</span><span class="o">.</span><span class="n">canon_bp</span><span class="p">()</span>
<span class="go">G(i1)*G(i0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">G</span><span class="p">(</span><span class="n">i1</span><span class="p">)</span><span class="o">*</span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">))</span><span class="o">.</span><span class="n">canon_bp</span><span class="p">()</span>
<span class="go">A(i0)*G(i1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor._TensorManager.set_comms">
<span class="sig-name descname"><span class="pre">set_comms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1258-L1269"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor._TensorManager.set_comms" title="Permalink to this definition"></a></dt>
<dd><p>Set the commutation group numbers <code class="docutils literal notranslate"><span class="pre">c</span></code> for symbols <code class="docutils literal notranslate"><span class="pre">i,</span> <span class="pre">j</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> (sequence of <code class="docutils literal notranslate"><span class="pre">(i,</span> <span class="pre">j,</span> <span class="pre">c)</span></code>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensorIndexType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">TensorIndexType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dummy_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1288-L1508"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensorIndexType" title="Permalink to this definition"></a></dt>
<dd><p>A TensorIndexType is characterized by its name and its metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>name of the tensor type</em>)</p></li>
<li><p><strong>metric</strong> (metric symmetry or metric object or <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
</ul>
</dd>
</dl>
<p>dim : dimension, it can be a symbol or an integer or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>eps_dim : dimension of the epsilon tensor</p>
<p>dummy_fmt : name of the head of dummy indices</p>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``name``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``metric_name``</span></span></dt>
<dd><p>it is ‘metric’ or metric.name</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``metric_antisym``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``metric``</span></span></dt>
<dd><p>the metric tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#diofant.tensor.tensor.TensorType" title="diofant.tensor.tensor.TensorType">TensorType</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``delta``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Kronecker</span> <span class="pre">delta</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``epsilon``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>the <code class="docutils literal notranslate"><span class="pre">Levi-Civita</span> <span class="pre">epsilon</span></code> tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``dim``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``dim_eps``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``dummy_fmt``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``data``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>a property to add <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> values, to work in a specified basis.</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>The <code class="docutils literal notranslate"><span class="pre">metric</span></code> parameter can be:
<code class="docutils literal notranslate"><span class="pre">metric</span> <span class="pre">=</span> <span class="pre">False</span></code> symmetric metric (in Riemannian geometry)</p>
<p><code class="docutils literal notranslate"><span class="pre">metric</span> <span class="pre">=</span> <span class="pre">True</span></code> antisymmetric metric (for spinor calculus)</p>
<p><code class="docutils literal notranslate"><span class="pre">metric</span> <span class="pre">=</span> <span class="pre">None</span></code>  there is no metric</p>
<p><code class="docutils literal notranslate"><span class="pre">metric</span></code> can be an object having <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">antisym</span></code> attributes.</p>
<p>If there is a metric the metric is used to raise and lower indices.</p>
<p>In the case of antisymmetric metric, the following raising and
lowering conventions will be adopted:</p>
<p><code class="docutils literal notranslate"><span class="pre">psi(a)</span> <span class="pre">=</span> <span class="pre">g(a,</span> <span class="pre">b)*psi(-b);</span> <span class="pre">chi(-a)</span> <span class="pre">=</span> <span class="pre">chi(b)*g(-b,</span> <span class="pre">-a)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">g(-a,</span> <span class="pre">b)</span> <span class="pre">=</span> <span class="pre">delta(-a,</span> <span class="pre">b);</span> <span class="pre">g(b,</span> <span class="pre">-a)</span> <span class="pre">=</span> <span class="pre">-delta(a,</span> <span class="pre">-b)</span></code></p>
<p>where <code class="docutils literal notranslate"><span class="pre">delta(-a,</span> <span class="pre">b)</span> <span class="pre">=</span> <span class="pre">delta(b,</span> <span class="pre">-a)</span></code> is the <code class="docutils literal notranslate"><span class="pre">Kronecker</span> <span class="pre">delta</span></code>
(see <code class="docutils literal notranslate"><span class="pre">TensorIndex</span></code> for the conventions on indices).</p>
<p>If there is no metric it is not possible to raise or lower indices;
e.g. the index of the defining representation of <code class="docutils literal notranslate"><span class="pre">SU(N)</span></code>
is ‘covariant’ and the conjugate representation is
‘contravariant’; for <code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">&gt;</span> <span class="pre">2</span></code> they are linearly independent.</p>
<p><code class="docutils literal notranslate"><span class="pre">eps_dim</span></code> is by default equal to <code class="docutils literal notranslate"><span class="pre">dim</span></code>, if the latter is an integer;
else it can be assigned (for use in naive dimensional regularization);
if <code class="docutils literal notranslate"><span class="pre">eps_dim</span></code> is not an integer <code class="docutils literal notranslate"><span class="pre">epsilon</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span><span class="o">.</span><span class="n">metric</span>
<span class="go">metric(Lorentz,Lorentz)</span>
</pre></div>
</div>
<p>Examples with metric components data added, this means it is working on a
fixed basis:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sstr</span><span class="p">(</span><span class="n">Lorentz</span><span class="p">))</span>
<span class="go">TensorIndexType(Lorentz, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">Lorentz</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go">[[1 0 0 0]</span>
<span class="go">[0 -1 0 0]</span>
<span class="go">[0 0 -1 0]</span>
<span class="go">[0 0 0 -1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensorIndex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">TensorIndex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tensortype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1511-L1613"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensorIndex" title="Permalink to this definition"></a></dt>
<dd><p>Represents an abstract tensor index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (name of the index, or <code class="docutils literal notranslate"><span class="pre">True</span></code> if you want it to be automatically assigned)</p></li>
<li><p><strong>tensortype</strong> (<code class="docutils literal notranslate"><span class="pre">TensorIndexType</span></code> of the index)</p></li>
<li><p><strong>is_up</strong> (<em>flag for contravariant index</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``name``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``tensortype``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``is_up``</span></span></dt>
<dd></dd></dl>

<p class="rubric">Notes</p>
<p>Tensor indices are contracted with the Einstein summation convention.</p>
<p>An index can be in contravariant or in covariant form; in the latter
case it is represented prepending a <code class="docutils literal notranslate"><span class="pre">-</span></code> to the index name.</p>
<p>Dummy indices have a name with head given by <code class="docutils literal notranslate"><span class="pre">tensortype._dummy_fmt</span></code></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">TensorIndex</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span>
<span class="go">i</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sym1</span> <span class="o">=</span> <span class="n">TensorSymmetry</span><span class="p">(</span><span class="o">*</span><span class="n">get_symmetric_group_sgs</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span> <span class="o">=</span> <span class="n">TensorType</span><span class="p">([</span><span class="n">Lorentz</span><span class="p">],</span> <span class="n">sym1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">S1</span><span class="p">(</span><span class="s1">&#39;A B&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">*</span><span class="n">B</span><span class="p">(</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>
<span class="go">A(L_0)*B(-L_0)</span>
</pre></div>
</div>
<p>If you want the index name to be automatically assigned, just put <code class="docutils literal notranslate"><span class="pre">True</span></code>
in the <code class="docutils literal notranslate"><span class="pre">name</span></code> field, it will be generated using the reserved character
<code class="docutils literal notranslate"><span class="pre">_</span></code> in front of its name, in order to avoid conflicts with possible
existing indices:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">i0</span> <span class="o">=</span> <span class="n">TensorIndex</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i0</span>
<span class="go">_i0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i1</span> <span class="o">=</span> <span class="n">TensorIndex</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i1</span>
<span class="go">_i1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">)</span><span class="o">*</span><span class="n">B</span><span class="p">(</span><span class="o">-</span><span class="n">i1</span><span class="p">)</span>
<span class="go">A(_i0)*B(-_i1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">)</span><span class="o">*</span><span class="n">B</span><span class="p">(</span><span class="o">-</span><span class="n">i0</span><span class="p">)</span>
<span class="go">A(L_0)*B(-L_0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.tensor.tensor.tensor_indices">
<span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">tensor_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typ</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1616-L1642"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.tensor_indices" title="Permalink to this definition"></a></dt>
<dd><p>Returns list of tensor indices given their names and their types</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>string of comma separated names of indices</em>)</p></li>
<li><p><strong>typ</strong> (list of <code class="docutils literal notranslate"><span class="pre">TensorIndexType</span></code> of the indices)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;a b c d&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensorSymmetry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">TensorSymmetry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw_args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1645-L1714"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensorSymmetry" title="Permalink to this definition"></a></dt>
<dd><p>Monoterm symmetry of a tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bsgs</strong> (tuple <code class="docutils literal notranslate"><span class="pre">(base,</span> <span class="pre">sgs)</span></code> BSGS of the symmetry of the tensor)</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``base``</span></span></dt>
<dd><p>base of the BSGS</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../core.html#diofant.core.containers.Tuple" title="diofant.core.containers.Tuple">Tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``generators``</span></span></dt>
<dd><p>generators of the BSGS</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../core.html#diofant.core.containers.Tuple" title="diofant.core.containers.Tuple">Tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``rank``</span></span></dt>
<dd><p>rank of the tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../core.html#diofant.core.containers.Tuple" title="diofant.core.containers.Tuple">Tuple</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>A tensor can have an arbitrary monoterm symmetry provided by its BSGS.
Multiterm symmetries, like the cyclic symmetry of the Riemann tensor,
are not covered.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../combinatorics/tensor_can.html#diofant.combinatorics.tensor_can.get_symmetric_group_sgs" title="diofant.combinatorics.tensor_can.get_symmetric_group_sgs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diofant.combinatorics.tensor_can.get_symmetric_group_sgs</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<p>Define a symmetric tensor</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sym2</span> <span class="o">=</span> <span class="n">TensorSymmetry</span><span class="p">(</span><span class="n">get_symmetric_group_sgs</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">TensorType</span><span class="p">([</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">sym2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">S2</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.tensor.tensor.tensorsymmetry">
<span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">tensorsymmetry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1717-L1793"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.tensorsymmetry" title="Permalink to this definition"></a></dt>
<dd><p>Return a <code class="docutils literal notranslate"><span class="pre">TensorSymmetry</span></code> object.</p>
<p>One can represent a tensor with any monoterm slot symmetry group
using a BSGS.</p>
<p><code class="docutils literal notranslate"><span class="pre">args</span></code> can be a BSGS
<code class="docutils literal notranslate"><span class="pre">args[0]</span></code>    base
<code class="docutils literal notranslate"><span class="pre">args[1]</span></code>    sgs</p>
<p>Usually tensors are in (direct products of) representations
of the symmetric group;
<code class="docutils literal notranslate"><span class="pre">args</span></code> can be a list of lists representing the shapes of Young tableaux</p>
<p class="rubric">Notes</p>
<p>For instance:
<code class="docutils literal notranslate"><span class="pre">[[1]]</span></code>       vector
<code class="docutils literal notranslate"><span class="pre">[[1]*n]</span></code>     symmetric tensor of rank <code class="docutils literal notranslate"><span class="pre">n</span></code>
<code class="docutils literal notranslate"><span class="pre">[[n]]</span></code>       antisymmetric tensor of rank <code class="docutils literal notranslate"><span class="pre">n</span></code>
<code class="docutils literal notranslate"><span class="pre">[[2,</span> <span class="pre">2]]</span></code>    monoterm slot symmetry of the Riemann tensor
<code class="docutils literal notranslate"><span class="pre">[[1],[1]]</span></code>   vector*vector
<code class="docutils literal notranslate"><span class="pre">[[2],[1],[1]</span></code> (antisymmetric tensor)*vector*vector</p>
<p>Notice that with the shape <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">2]</span></code> we associate only the monoterm
symmetries of the Riemann tensor; this is an abuse of notation,
since the shape <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">2]</span></code> corresponds usually to the irreducible
representation characterized by the monoterm symmetries and by the
cyclic symmetry.</p>
<p class="rubric">Examples</p>
<p>Symmetric tensor using a Young tableau</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sym2</span> <span class="o">=</span> <span class="n">tensorsymmetry</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">TensorType</span><span class="p">([</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">sym2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">S2</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Symmetric tensor using a <code class="docutils literal notranslate"><span class="pre">BSGS</span></code> (base, strong generator set)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sym2</span> <span class="o">=</span> <span class="n">tensorsymmetry</span><span class="p">(</span><span class="o">*</span><span class="n">get_symmetric_group_sgs</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">TensorType</span><span class="p">([</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">sym2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">S2</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensorType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">TensorType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw_args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1796-L1883"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensorType" title="Permalink to this definition"></a></dt>
<dd><p>Class of tensor types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_types</strong> (list of <code class="docutils literal notranslate"><span class="pre">TensorIndexType</span></code> of the tensor indices)</p></li>
<li><p><strong>symmetry</strong> (<code class="docutils literal notranslate"><span class="pre">TensorSymmetry</span></code> of the tensor)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``index_types``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``symmetry``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``types``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of <code class="docutils literal notranslate"><span class="pre">TensorIndexType</span></code> without repetitions</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>Define a symmetric tensor</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sym2</span> <span class="o">=</span> <span class="n">tensorsymmetry</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">TensorType</span><span class="p">([</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">sym2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="n">S2</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensorHead">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">TensorHead</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix_behavior</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw_args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L1919-L2311"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensorHead" title="Permalink to this definition"></a></dt>
<dd><p>Tensor head of the tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>name of the tensor</em>)</p></li>
<li><p><strong>typ</strong> (<em>list of TensorIndexType</em>)</p></li>
<li><p><strong>comm</strong> (<em>commutation group number</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``name``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``index_types``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``rank``</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``types``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>equal to <code class="docutils literal notranslate"><span class="pre">typ.types</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``symmetry``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>equal to <code class="docutils literal notranslate"><span class="pre">typ.symmetry</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``comm``</span></span></dt>
<dd><p>commutation group</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>A <code class="docutils literal notranslate"><span class="pre">TensorHead</span></code> belongs to a commutation group, defined by a
symbol on number <code class="docutils literal notranslate"><span class="pre">comm</span></code> (see <code class="docutils literal notranslate"><span class="pre">_TensorManager.set_comm</span></code>);
tensors in a commutation group have the same commutation properties;
by default <code class="docutils literal notranslate"><span class="pre">comm</span></code> is <code class="docutils literal notranslate"><span class="pre">0</span></code>, the group of the commuting tensors.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
</pre></div>
</div>
<p>Examples with ndarray values, the components data assigned to the
<code class="docutils literal notranslate"><span class="pre">TensorHead</span></code> object are assumed to be in a fully-contravariant
representation. In case it is necessary to assign components data which
represents the values of a non-fully covariant tensor, see the other
examples.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;i0:2&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="n">j</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">i</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
</pre></div>
</div>
<p>in order to retrieve data, it is also necessary to specify abstract indices
enclosed by round brackets, then numerical indices inside square brackets.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">)[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">)[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="mi">2</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Notice that square brackets create a valued tensor expression instance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">)</span>
<span class="go">A(i0, i1)</span>
</pre></div>
</div>
<p>To view the data, just type:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go">[[0 1 2 3]</span>
<span class="go"> [2 3 4 5]</span>
<span class="go"> [4 5 6 7]</span>
<span class="go"> [6 7 8 9]]</span>
</pre></div>
</div>
<p>Turning to a tensor expression, covariant indices get the corresponding
components data corrected by the metric:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="o">-</span><span class="n">i1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go">[[0 -1 -2 -3]</span>
<span class="go"> [2 -3 -4 -5]</span>
<span class="go"> [4 -5 -6 -7]</span>
<span class="go"> [6 -7 -8 -9]]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="o">-</span><span class="n">i0</span><span class="p">,</span> <span class="o">-</span><span class="n">i1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go">[[0 -1 -2 -3]</span>
<span class="go"> [-2 3 4 5]</span>
<span class="go"> [-4 5 6 7]</span>
<span class="go"> [-6 7 8 9]]</span>
</pre></div>
</div>
<p>while if all indices are contravariant, the <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> remains the same</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go"> [[0 1 2 3]</span>
<span class="go"> [2 3 4 5]</span>
<span class="go"> [4 5 6 7]</span>
<span class="go"> [6 7 8 9]]</span>
</pre></div>
</div>
<p>When all indices are contracted and components data are added to the tensor,
accessing the data will return a scalar, no numpy object. In fact, numpy
ndarrays are dropped to scalars if they contain only one element.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="o">-</span><span class="n">i0</span><span class="p">)</span>
<span class="go">A(L_0, -L_0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="o">-</span><span class="n">i0</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">-18</span>
</pre></div>
</div>
<p>It is also possible to assign components data to an indexed tensor, i.e. a
tensor with specified covariant and contravariant components. In this
example, the covariant components data of the Electromagnetic tensor are
injected into <span class="math notranslate nohighlight">\(A\)</span>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Ex</span><span class="p">,</span> <span class="n">Ey</span><span class="p">,</span> <span class="n">Ez</span><span class="p">,</span> <span class="n">Bx</span><span class="p">,</span> <span class="n">By</span><span class="p">,</span> <span class="n">Bz</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;E_x E_y E_z B_x B_y B_z&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">positive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Let’s define <span class="math notranslate nohighlight">\(F\)</span>, an antisymmetric tensor, we have to assign an
antisymmetric matrix to it, because <span class="math notranslate nohighlight">\([[2]]\)</span> stands for the Young tableau
representation of an antisymmetric set of two elements:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">],</span> <span class="p">[[</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="p">(</span><span class="o">-</span><span class="n">i0</span><span class="p">,</span> <span class="o">-</span><span class="n">i1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="n">Ex</span><span class="o">/</span><span class="n">c</span><span class="p">,</span> <span class="n">Ey</span><span class="o">/</span><span class="n">c</span><span class="p">,</span> <span class="n">Ez</span><span class="o">/</span><span class="n">c</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="o">-</span><span class="n">Ex</span><span class="o">/</span><span class="n">c</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">Bz</span><span class="p">,</span> <span class="n">By</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="o">-</span><span class="n">Ey</span><span class="o">/</span><span class="n">c</span><span class="p">,</span> <span class="n">Bz</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">Bx</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="o">-</span><span class="n">Ez</span><span class="o">/</span><span class="n">c</span><span class="p">,</span> <span class="o">-</span><span class="n">By</span><span class="p">,</span> <span class="n">Bx</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
<p>Now it is possible to retrieve the contravariant form of the Electromagnetic
tensor:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go">[[0 -E_x/c -E_y/c -E_z/c]</span>
<span class="go"> [E_x/c 0 -B_z B_y]</span>
<span class="go"> [E_y/c B_z 0 -B_x]</span>
<span class="go"> [E_z/c -B_y B_x 0]]</span>
</pre></div>
</div>
<p>and the mixed contravariant-covariant form:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="o">-</span><span class="n">i1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go">[[0 E_x/c E_y/c E_z/c]</span>
<span class="go"> [E_x/c 0 B_z -B_y]</span>
<span class="go"> [E_y/c -B_z 0 B_x]</span>
<span class="go"> [E_z/c B_y -B_x 0]]</span>
</pre></div>
</div>
<p>To convert the numpy’s ndarray to a diofant matrix, just cast:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Matrix</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="go">Matrix([</span>
<span class="go">[    0, -E_x/c, -E_y/c, -E_z/c],</span>
<span class="go">[E_x/c,      0,   -B_z,    B_y],</span>
<span class="go">[E_y/c,    B_z,      0,   -B_x],</span>
<span class="go">[E_z/c,   -B_y,    B_x,      0]])</span>
</pre></div>
</div>
<p>Still notice, in this last example, that accessing components data from a
tensor without specifying the indices is equivalent to assume that all
indices are contravariant.</p>
<p>It is also possible to store symbolic components data inside a tensor, for
example, define a four-momentum-like tensor:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">E</span><span class="p">,</span> <span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">,</span> <span class="n">pz</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;E p_x p_y p_z&#39;</span><span class="p">,</span> <span class="n">positive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">E</span><span class="p">,</span> <span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">,</span> <span class="n">pz</span><span class="p">]</span>
</pre></div>
</div>
<p>The contravariant and covariant components are, respectively:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="n">i0</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go">[E p_x p_y p_z]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="o">-</span><span class="n">i0</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go">[E -p_x -p_y -p_z]</span>
</pre></div>
</div>
<p>The contraction of a 1-index tensor by itself is usually indicated by a
power by two:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="p">(</span><span class="n">i0</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="go">E**2 - p_x**2 - p_y**2 - p_z**2</span>
</pre></div>
</div>
<p>As the power by two is clearly identical to <span class="math notranslate nohighlight">\(P_\mu P^\mu\)</span>, it is possible to
simply contract the <code class="docutils literal notranslate"><span class="pre">TensorHead</span></code> object, without specifying the indices</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">**</span><span class="mi">2</span>
<span class="go">E**2 - p_x**2 - p_y**2 - p_z**2</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensorHead.commutes_with">
<span class="sig-name descname"><span class="pre">commutes_with</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L2151-L2159"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensorHead.commutes_with" title="Permalink to this definition"></a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">other</span></code> commute, <code class="docutils literal notranslate"><span class="pre">1</span></code> if they anticommute.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">other</span></code> neither commute nor anticommute.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensExpr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">TensExpr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L2314-L2455"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensExpr" title="Permalink to this definition"></a></dt>
<dd><p>Abstract base class for tensor expressions</p>
<p class="rubric">Notes</p>
<p>A tensor expression is an expression formed by tensors;
currently the sums of tensors are distributed.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">TensExpr</span></code> can be a <code class="docutils literal notranslate"><span class="pre">TensAdd</span></code> or a <code class="docutils literal notranslate"><span class="pre">TensMul</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">TensAdd</span></code> objects are put in canonical form using the Butler-Portugal
algorithm for canonicalization under monoterm symmetries.</p>
<p><code class="docutils literal notranslate"><span class="pre">TensMul</span></code> objects are formed by products of component tensors,
and include a coefficient, which is a Diofant expression.</p>
<p>In the internal representation contracted indices are represented
by <code class="docutils literal notranslate"><span class="pre">(ipos1,</span> <span class="pre">ipos2,</span> <span class="pre">icomp1,</span> <span class="pre">icomp2)</span></code>, where <code class="docutils literal notranslate"><span class="pre">icomp1</span></code> is the position
of the component tensor with contravariant index, <code class="docutils literal notranslate"><span class="pre">ipos1</span></code> is the
slot which the index occupies in that component tensor.</p>
<p>Contracted indices are therefore nameless in the internal representation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensExpr.get_matrix">
<span class="sig-name descname"><span class="pre">get_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L2396-L2455"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensExpr.get_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Returns ndarray components data as a matrix, if components data are
available and ndarray dimension does not exceed 2.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sym2</span> <span class="o">=</span> <span class="n">tensorsymmetry</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">TensorType</span><span class="p">([</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">sym2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">S2</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The tensor <code class="docutils literal notranslate"><span class="pre">A</span></code> is symmetric in its indices, as can be deduced by the
<code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">1]</span></code> Young tableau when constructing <span class="math notranslate nohighlight">\(sym2\)</span>. One has to be
careful to assign symmetric component data to <code class="docutils literal notranslate"><span class="pre">A</span></code>, as the symmetry
properties of data are currently not checked to be compatible with the
defined tensor symmetry.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;i0:2&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="n">j</span><span class="o">+</span><span class="n">i</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">)</span><span class="o">.</span><span class="n">get_matrix</span><span class="p">()</span>
<span class="go">Matrix([</span>
<span class="go">[0, 1, 2, 3],</span>
<span class="go">[1, 2, 3, 4],</span>
<span class="go">[2, 3, 4, 5],</span>
<span class="go">[3, 4, 5, 6]])</span>
</pre></div>
</div>
<p>It is possible to perform usual operation on matrices, such as the
matrix multiplication:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">)</span><span class="o">.</span><span class="n">get_matrix</span><span class="p">()</span><span class="o">*</span><span class="n">ones</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">Matrix([</span>
<span class="go">[ 6],</span>
<span class="go">[10],</span>
<span class="go">[14],</span>
<span class="go">[18]])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">A</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensAdd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">TensAdd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw_args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L2458-L2920"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensAdd" title="Permalink to this definition"></a></dt>
<dd><p>Sum of tensors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>free_args</strong> (<em>list of the free indices</em>)</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``args``</span></span></dt>
<dd><p>of addends</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``rank``</span></span></dt>
<dd><p>rank of the tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``free_args``</span></span></dt>
<dd><p>of the free indices in sorted order</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>Sum of more than one tensor are put automatically in canonical form.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;a b&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;p q&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">p</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">+</span> <span class="n">q</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">p(a) + q(a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">p(b) + q(b)</span>
</pre></div>
</div>
<p>Examples with components data added to the tensor expression:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;a, b&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">p</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">+</span> <span class="n">q</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">p(a) + q(a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">p(b) + q(b)</span>
</pre></div>
</div>
<p>The following are: 2**2 - 3**2 - 2**2 - 7**2 ==&gt; -58</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">p</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="n">p</span><span class="p">(</span><span class="o">-</span><span class="n">a</span><span class="p">))</span><span class="o">.</span><span class="n">data</span>
<span class="go">-58</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="go">-58</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensAdd.canon_bp">
<span class="sig-name descname"><span class="pre">canon_bp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L2727-L2735"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensAdd.canon_bp" title="Permalink to this definition"></a></dt>
<dd><p>Canonicalize using the Butler-Portugal algorithm for canonicalization
under monoterm symmetries.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensAdd.contract_metric">
<span class="sig-name descname"><span class="pre">contract_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L2794-L2816"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensAdd.contract_metric" title="Permalink to this definition"></a></dt>
<dd><p>Raise or lower indices with the metric <code class="docutils literal notranslate"><span class="pre">g</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>g</strong> (<em>metric</em>)</p></li>
<li><p><strong>contract_all</strong> (if True, eliminate all <code class="docutils literal notranslate"><span class="pre">g</span></code> which are contracted)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.tensor.tensor.TensorIndexType" title="diofant.tensor.tensor.TensorIndexType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TensorIndexType</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensAdd.from_TIDS_list">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_TIDS_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coeff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tids_list</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L2884-L2916"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensAdd.from_TIDS_list" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of coefficients and a list of <code class="docutils literal notranslate"><span class="pre">TIDS</span></code> objects, construct
a <code class="docutils literal notranslate"><span class="pre">TensAdd</span></code> instance, equivalent to the one that would result from
creating single instances of <code class="docutils literal notranslate"><span class="pre">TensMul</span></code> and then adding them.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;i j&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;A B&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ea</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">A</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eb</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">ea</span><span class="o">.</span><span class="n">_tids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="n">eb</span><span class="o">.</span><span class="n">_tids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">ea</span><span class="o">.</span><span class="n">coeff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">eb</span><span class="o">.</span><span class="n">coeff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TensAdd</span><span class="o">.</span><span class="n">from_TIDS_list</span><span class="p">([</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">],</span> <span class="p">[</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">])</span>
<span class="go">2*B(i, j) + 3*A(i, j)</span>
</pre></div>
</div>
<p>If the coefficient parameter is a scalar, then it will be applied
as a coefficient on all <code class="docutils literal notranslate"><span class="pre">TIDS</span></code> objects.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TensAdd</span><span class="o">.</span><span class="n">from_TIDS_list</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">])</span>
<span class="go">4*A(i, j) + 4*B(i, j)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensAdd.fun_eval">
<span class="sig-name descname"><span class="pre">fun_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">index_tuples</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L2818-L2843"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensAdd.fun_eval" title="Permalink to this definition"></a></dt>
<dd><p>Return a tensor with free indices substituted according to <code class="docutils literal notranslate"><span class="pre">index_tuples</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index_types</strong> (list of tuples <code class="docutils literal notranslate"><span class="pre">(old_index,</span> <span class="pre">new_index)</span></code>)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;i j k l&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;A B&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">B</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="p">,</span> <span class="o">-</span><span class="n">j</span><span class="p">)</span> <span class="o">+</span> <span class="n">A</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="o">-</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">fun_eval</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="n">j</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
<span class="go">A(k, L_0)*B(l, -L_0) + A(k, l)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensAdd.substitute_indices">
<span class="sig-name descname"><span class="pre">substitute_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">index_tuples</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L2845-L2872"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensAdd.substitute_indices" title="Permalink to this definition"></a></dt>
<dd><p>Return a tensor with free indices substituted according to <code class="docutils literal notranslate"><span class="pre">index_tuples</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index_types</strong> (list of tuples <code class="docutils literal notranslate"><span class="pre">(old_index,</span> <span class="pre">new_index)</span></code>)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;i j k l&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;A B&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">B</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="p">,</span> <span class="o">-</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">A(i, L_0)*B(-L_0, -j)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">substitute_indices</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span>
<span class="go">A(j, L_0)*B(-L_0, -k)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensMul">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">TensMul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw_args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3149-L3591"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensMul" title="Permalink to this definition"></a></dt>
<dd><p>Product of tensors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coeff</strong> (<em>Diofant coefficient of the tensor</em>)</p></li>
<li><p><strong>args</strong></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``components``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of <code class="docutils literal notranslate"><span class="pre">TensorHead</span></code> of the component tensors</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``types``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of nonrepeated <code class="docutils literal notranslate"><span class="pre">TensorIndexType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``free``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of <code class="docutils literal notranslate"><span class="pre">(ind,</span> <span class="pre">ipos,</span> <span class="pre">icomp)</span></code>, see Notes</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``dum``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of <code class="docutils literal notranslate"><span class="pre">(ipos1,</span> <span class="pre">ipos2,</span> <span class="pre">icomp1,</span> <span class="pre">icomp2)</span></code>, see Notes</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``ext_rank``</span></span></dt>
<dd><p>rank of the tensor counting the dummy indices</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``rank``</span></span></dt>
<dd><p>rank of the tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``coeff``</span></span></dt>
<dd><p>Diofant coefficient of the tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../core.html#diofant.core.expr.Expr" title="diofant.core.expr.Expr">Expr</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``free_args``</span></span></dt>
<dd><p>list of the free indices in sorted order</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">``is_canon_bp``</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the tensor in in canonical form</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p><code class="docutils literal notranslate"><span class="pre">args[0]</span></code>   list of <code class="docutils literal notranslate"><span class="pre">TensorHead</span></code> of the component tensors.</p>
<p><code class="docutils literal notranslate"><span class="pre">args[1]</span></code>   list of <code class="docutils literal notranslate"><span class="pre">(ind,</span> <span class="pre">ipos,</span> <span class="pre">icomp)</span></code>
where <code class="docutils literal notranslate"><span class="pre">ind</span></code> is a free index, <code class="docutils literal notranslate"><span class="pre">ipos</span></code> is the slot position
of <code class="docutils literal notranslate"><span class="pre">ind</span></code> in the <code class="docutils literal notranslate"><span class="pre">icomp</span></code>-th component tensor.</p>
<p><code class="docutils literal notranslate"><span class="pre">args[2]</span></code> list of tuples representing dummy indices.
<code class="docutils literal notranslate"><span class="pre">(ipos1,</span> <span class="pre">ipos2,</span> <span class="pre">icomp1,</span> <span class="pre">icomp2)</span></code> indicates that the contravariant
dummy index is the <code class="docutils literal notranslate"><span class="pre">ipos1</span></code>-th slot position in the <code class="docutils literal notranslate"><span class="pre">icomp1</span></code>-th
component tensor; the corresponding covariant index is
in the <code class="docutils literal notranslate"><span class="pre">ipos2</span></code> slot position in the <code class="docutils literal notranslate"><span class="pre">icomp2</span></code>-th component tensor.</p>
<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensMul.canon_bp">
<span class="sig-name descname"><span class="pre">canon_bp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3431-L3460"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensMul.canon_bp" title="Permalink to this definition"></a></dt>
<dd><p>Canonicalize using the Butler-Portugal algorithm for canonicalization
under monoterm symmetries.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m0</span><span class="p">,</span> <span class="n">m1</span><span class="p">,</span> <span class="n">m2</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;m0 m1 m2&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="n">m0</span><span class="p">,</span> <span class="o">-</span><span class="n">m1</span><span class="p">)</span><span class="o">*</span><span class="n">A</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="o">-</span><span class="n">m0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">canon_bp</span><span class="p">()</span>
<span class="go">-A(L_0, L_1)*A(-L_0, -L_1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="n">m0</span><span class="p">,</span> <span class="o">-</span><span class="n">m1</span><span class="p">)</span><span class="o">*</span><span class="n">A</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="o">-</span><span class="n">m2</span><span class="p">)</span><span class="o">*</span><span class="n">A</span><span class="p">(</span><span class="n">m2</span><span class="p">,</span> <span class="o">-</span><span class="n">m0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">canon_bp</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensMul.contract_metric">
<span class="sig-name descname"><span class="pre">contract_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3466-L3499"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensMul.contract_metric" title="Permalink to this definition"></a></dt>
<dd><p>Raise or lower indices with the metric <code class="docutils literal notranslate"><span class="pre">g</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>g</strong> (<em>metric</em>)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.tensor.tensor.TensorIndexType" title="diofant.tensor.tensor.TensorIndexType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TensorIndexType</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m0</span><span class="p">,</span> <span class="n">m1</span><span class="p">,</span> <span class="n">m2</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;m0 m1 m2&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Lorentz</span><span class="o">.</span><span class="n">metric</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;p q&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">p</span><span class="p">(</span><span class="n">m0</span><span class="p">)</span><span class="o">*</span><span class="n">q</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span><span class="o">*</span><span class="n">g</span><span class="p">(</span><span class="o">-</span><span class="n">m0</span><span class="p">,</span> <span class="o">-</span><span class="n">m1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">canon_bp</span><span class="p">()</span>
<span class="go">metric(L_0, L_1)*p(-L_0)*q(-L_1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">contract_metric</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">canon_bp</span><span class="p">()</span>
<span class="go">p(L_0)*q(-L_0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensMul.fun_eval">
<span class="sig-name descname"><span class="pre">fun_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">index_tuples</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3504-L3533"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensMul.fun_eval" title="Permalink to this definition"></a></dt>
<dd><p>Return a tensor with free indices substituted according to <code class="docutils literal notranslate"><span class="pre">index_tuples</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">index_types</span></code> list of tuples <code class="docutils literal notranslate"><span class="pre">(old_index,</span> <span class="pre">new_index)</span></code></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;i j k l&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;A B&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">B</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="p">,</span> <span class="o">-</span><span class="n">j</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">A(i, L_0)*B(-L_0, -j)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">fun_eval</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="n">j</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
<span class="go">A(k, L_0)*B(-L_0, l)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensMul.get_indices">
<span class="sig-name descname"><span class="pre">get_indices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3293-L3314"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensMul.get_indices" title="Permalink to this definition"></a></dt>
<dd><p>Returns the list of indices of the tensor</p>
<p>The indices are listed in the order in which they appear in the
component tensors.
The dummy indices are given a name which does not collide with
the names of the free indices.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m0</span><span class="p">,</span> <span class="n">m1</span><span class="p">,</span> <span class="n">m2</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;m0 m1 m2&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Lorentz</span><span class="o">.</span><span class="n">metric</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;p q&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">p</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span><span class="o">*</span><span class="n">g</span><span class="p">(</span><span class="n">m0</span><span class="p">,</span> <span class="n">m2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">get_indices</span><span class="p">()</span>
<span class="go">[m1, m0, m2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensMul.perm2tensor">
<span class="sig-name descname"><span class="pre">perm2tensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">canon_bp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3422-L3429"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensMul.perm2tensor" title="Permalink to this definition"></a></dt>
<dd><p>Returns the tensor corresponding to the permutation <code class="docutils literal notranslate"><span class="pre">g</span></code></p>
<p>For further details, see the method in <code class="docutils literal notranslate"><span class="pre">TIDS</span></code> with the same name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensMul.sorted_components">
<span class="sig-name descname"><span class="pre">sorted_components</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3411-L3420"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensMul.sorted_components" title="Permalink to this definition"></a></dt>
<dd><p>Returns a tensor with sorted components
calling the corresponding method in a <code class="docutils literal notranslate"><span class="pre">TIDS</span></code> object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diofant.tensor.tensor.TensMul.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3316-L3347"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.TensMul.split" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of tensors, whose product is <code class="docutils literal notranslate"><span class="pre">self</span></code></p>
<p>Dummy indices contracted among different tensor components
become free indices with the same name as the one used to
represent the dummy indices.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;a b c d&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;A B&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="n">B</span><span class="p">(</span><span class="o">-</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">A(a, L_0)*B(-L_0, c)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="go">[A(a, L_0), B(-L_0, c)]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.tensor.tensor.canon_bp">
<span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">canon_bp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3594-L3598"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.canon_bp" title="Permalink to this definition"></a></dt>
<dd><p>Butler-Portugal canonicalization.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.tensor.tensor.tensor_mul">
<span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">tensor_mul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3601-L3608"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.tensor_mul" title="Permalink to this definition"></a></dt>
<dd><p>Product of tensors.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.tensor.tensor.riemann_cyclic_replace">
<span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">riemann_cyclic_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_r</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3611-L3623"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.riemann_cyclic_replace" title="Permalink to this definition"></a></dt>
<dd><p>Replace Riemann tensor with an equivalent expression.</p>
<p><code class="docutils literal notranslate"><span class="pre">R(m,n,p,q)</span> <span class="pre">-&gt;</span> <span class="pre">2/3*R(m,n,p,q)</span> <span class="pre">-</span> <span class="pre">1/3*R(m,q,n,p)</span> <span class="pre">+</span> <span class="pre">1/3*R(m,p,n,q)</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="diofant.tensor.tensor.riemann_cyclic">
<span class="sig-prename descclassname"><span class="pre">diofant.tensor.tensor.</span></span><span class="sig-name descname"><span class="pre">riemann_cyclic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t2</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/tensor/tensor.py#L3626-L3655"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diofant.tensor.tensor.riemann_cyclic" title="Permalink to this definition"></a></dt>
<dd><p>Replace each Riemann tensor with an equivalent expression
satisfying the cyclic identity.</p>
<p>This trick is discussed in the reference guide to Cadabra.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Lorentz</span> <span class="o">=</span> <span class="n">TensorIndexType</span><span class="p">(</span><span class="s1">&#39;Lorentz&#39;</span><span class="p">,</span> <span class="n">dummy_fmt</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="n">tensor_indices</span><span class="p">(</span><span class="s1">&#39;i j k l&#39;</span><span class="p">,</span> <span class="n">Lorentz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R</span> <span class="o">=</span> <span class="n">tensorhead</span><span class="p">(</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Lorentz</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="p">,</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="n">i</span><span class="p">,</span> <span class="o">-</span><span class="n">j</span><span class="p">,</span> <span class="o">-</span><span class="n">k</span><span class="p">,</span> <span class="o">-</span><span class="n">l</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="n">i</span><span class="p">,</span> <span class="o">-</span><span class="n">k</span><span class="p">,</span> <span class="o">-</span><span class="n">j</span><span class="p">,</span> <span class="o">-</span><span class="n">l</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">riemann_cyclic</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index_methods.html" class="btn btn-neutral float-left" title="Methods" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../utilities/index.html" class="btn btn-neutral float-right" title="Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2006-2022 SymPy Development Team, 2013-2022 Sergey B Kirpichev.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147167689-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-147167689-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>