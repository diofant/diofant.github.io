

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Iterables &mdash; Diofant 0.11.0a14.dev53+g33abfa6b2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"CommonHTML": {"linebreaks": {"automatic": true}}, "HTML-CSS": {"linebreaks": {"automatic": true}}, "SVG": {"linebreaks": {"automatic": true}}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lambdify" href="lambdify.html" />
    <link rel="prev" title="Enumerative" href="enumerative.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core.html">Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../combinatorics/index.html">Combinatorics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ntheory.html">Number Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concrete.html">Concrete Mathematics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/index.html">Mathematical Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geometry/index.html">Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrals.html">Integrals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logic.html">Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../domains.html">Domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matrices/index.html">Matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../polys.html">Polynomials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../printing.html">Printing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive.html">Interactive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plotting.html">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../series.html">Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sets.html">Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simplify/simplify.html">Simplify</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stats.html">Stats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solvers/index.html">Solvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tensor/index.html">Tensors</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Utilities</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="autowrap.html">Autowrap Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="codegen.html">Codegen</a></li>
<li class="toctree-l3"><a class="reference internal" href="decorator.html">Decorator</a></li>
<li class="toctree-l3"><a class="reference internal" href="enumerative.html">Enumerative</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Iterables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#variations">variations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#partitions">partitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lambdify.html">Lambdify</a></li>
<li class="toctree-l3"><a class="reference internal" href="memoization.html">Memoization</a></li>
<li class="toctree-l3"><a class="reference internal" href="misc.html">Miscellaneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="randtest.html">Randomised Testing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parsing.html">Parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../calculus/index.html">Calculus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diffgeom.html">Differential Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector/index.html">Vectors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../internals/index.html">Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutus.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Diofant</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Reference</a> &raquo;</li>
        
          <li><a href="index.html">Utilities</a> &raquo;</li>
        
      <li>Iterables</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/modules/utilities/iterables.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="iterables">
<h1>Iterables<a class="headerlink" href="#iterables" title="Permalink to this headline">¶</a></h1>
<div class="section" id="variations">
<h2>variations<a class="headerlink" href="#variations" title="Permalink to this headline">¶</a></h2>
<p>variations(seq, n) Returns all the variations of the list of size n.</p>
<p>Has an optional third argument. Must be a boolean value and makes the method
return the variations with repetition if set to True, or the variations
without repetition if set to False.</p>
<dl>
<dt>Examples::</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.utilities.iterables</span> <span class="k">import</span> <span class="n">variations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">variations</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[(1, 2), (1, 3), (2, 1), (2, 3), (3, 1), (3, 2)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">variations</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">[(1, 1), (1, 2), (1, 3), (2, 1), (2, 2), (2, 3), (3, 1), (3, 2), (3, 3)]</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="partitions">
<h2>partitions<a class="headerlink" href="#partitions" title="Permalink to this headline">¶</a></h2>
<p>Although the combinatorics module contains Partition and IntegerPartition
classes for investigation and manipulation of partitions, there are a few
functions to generate partitions that can be used as low-level tools for
routines:  <code class="docutils literal notranslate"><span class="pre">partitions</span></code> and <code class="docutils literal notranslate"><span class="pre">multiset_partitions</span></code>. The former gives
integer partitions, and the latter gives enumerated partitions of elements.</p>
<p>partitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.utilities.iterables</span> <span class="k">import</span> <span class="n">partitions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">partitions</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span>
<span class="go">[{1: 1, 6: 1}, {2: 1, 5: 1}, {3: 1, 4: 1}]</span>
</pre></div>
</div>
<p>multiset_partitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.utilities.iterables</span> <span class="k">import</span> <span class="n">multiset_partitions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">multiset_partitions</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
<span class="go">[[[0, 1], [2]], [[0, 2], [1]], [[0], [1, 2]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">multiset_partitions</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">)]</span>
<span class="go">[[[1, 1, 1], [2]], [[1, 1, 2], [1]], [[1, 1], [1, 2]]]</span>
</pre></div>
</div>
<div class="section" id="module-diofant.utilities.iterables">
<span id="docstring"></span><h3>Docstring<a class="headerlink" href="#module-diofant.utilities.iterables" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="diofant.utilities.iterables.binary_partitions">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">binary_partitions</code><span class="sig-paren">(</span><em class="sig-param">n</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1413-L1467"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.binary_partitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the binary partition of n.</p>
<p>A binary partition consists only of numbers that are
powers of two. Each step reduces a 2**(k+1) to 2**k and
2**k. Thus 16 is converted to 8 and 8.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>TAOCP 4, section 7.2.1.5, problem 64</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">binary_partitions</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">[4, 1]</span>
<span class="go">[2, 2, 1]</span>
<span class="go">[2, 1, 1, 1]</span>
<span class="go">[1, 1, 1, 1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.bracelets">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">bracelets</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">k</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1768-L1770"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.bracelets" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to necklaces to return a free (unrestricted) necklace.</p>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.cantor_product">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">cantor_product</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1883-L1917"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.cantor_product" title="Permalink to this definition">¶</a></dt>
<dd><p>Breadth-first (diagonal) cartesian product of iterables.</p>
<p>Each iterable is advanced in turn in a round-robin fashion. As usual with
breadth-first, this comes at the cost of memory consumption.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">islice</span><span class="p">,</span> <span class="n">count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">cantor_product</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="n">count</span><span class="p">()),</span> <span class="mi">9</span><span class="p">))</span>
<span class="go">[(0, 0), (0, 1), (1, 0), (1, 1), (0, 2), (1, 2), (2, 0), (2, 1), (2, 2)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.capture">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">capture</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L425-L449"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.capture" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the printed output of func().</p>
<p><span class="math notranslate nohighlight">\(func\)</span> should be a function without arguments that produces output with
print statements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hello world!&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;hello&#39;</span> <span class="ow">in</span> <span class="n">capture</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span> <span class="c1"># foo, not foo()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">capture</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">pprint</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">use_unicode</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">&#39;2\n-\nx\n&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.common_prefix">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">common_prefix</code><span class="sig-paren">(</span><em class="sig-param">*seqs</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L509-L532"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.common_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the subsequence that is a common start of sequences in <code class="docutils literal notranslate"><span class="pre">seqs</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common_prefix</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_prefix</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_prefix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="go">[1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_prefix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="go">[1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.common_suffix">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">common_suffix</code><span class="sig-paren">(</span><em class="sig-param">*seqs</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L535-L562"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.common_suffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the subsequence that is a common ending of sequences in <code class="docutils literal notranslate"><span class="pre">seqs</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common_suffix</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_suffix</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_suffix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">[2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_suffix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">[3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.dict_merge">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">dict_merge</code><span class="sig-paren">(</span><em class="sig-param">*dicts</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L499-L506"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.dict_merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge dictionaries into a single dictionary.</p>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.filter_symbols">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">filter_symbols</code><span class="sig-paren">(</span><em class="sig-param">iterator</em>, <em class="sig-param">exclude</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L359-L382"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.filter_symbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Only yield elements from <span class="math notranslate nohighlight">\(iterator\)</span> that do not occur in <span class="math notranslate nohighlight">\(exclude\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterator</strong> (<em>iterable</em>)</p></li>
<li><p><strong>iterator to take elements from</strong></p></li>
<li><p><strong>exclude</strong> (<em>iterable</em>)</p></li>
<li><p><strong>elements to exclude</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>iterator</strong> (<em>iterator</em>)</p></li>
<li><p><em>filtered iterator</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.flatten">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">flatten</code><span class="sig-paren">(</span><em class="sig-param">iterable</em>, <em class="sig-param">levels=None</em>, <em class="sig-param">cls=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L14-L74"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively denest iterable containers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
<span class="go">[1, 2, 3, 4, 5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flatten</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)])</span>
<span class="go">[1.0, 2, 1, None]</span>
</pre></div>
</div>
<p>If you want to denest only a specified number of levels of
nested containers, then set <code class="docutils literal notranslate"><span class="pre">levels</span></code> flag to the desired
number of levels:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">=</span> <span class="p">[[(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">flatten</span><span class="p">(</span><span class="n">ls</span><span class="p">,</span> <span class="n">levels</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[(-2, -1), (1, 2), (0, 0)]</span>
</pre></div>
</div>
<p>If cls argument is specified, it will only flatten instances of that
class, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyOp</span><span class="p">(</span><span class="n">Basic</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flatten</span><span class="p">([</span><span class="n">MyOp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">MyOp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))],</span> <span class="bp">cls</span><span class="o">=</span><span class="n">MyOp</span><span class="p">)</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
<p>adapted from <a class="reference external" href="https://kogs-www.informatik.uni-hamburg.de/~meine/python_tricks">https://kogs-www.informatik.uni-hamburg.de/~meine/python_tricks</a></p>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.generate_bell">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">generate_bell</code><span class="sig-paren">(</span><em class="sig-param">n</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1552-L1651"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.generate_bell" title="Permalink to this definition">¶</a></dt>
<dd><p>Return permutations of [0, 1, …, n - 1] such that each permutation
differs from the last by the exchange of a single pair of neighbors.
The <code class="docutils literal notranslate"><span class="pre">n!</span></code> permutations are returned as an iterator. In order to obtain
the next permutation from a random starting permutation, use the
<code class="docutils literal notranslate"><span class="pre">next_trotterjohnson</span></code> method of the Permutation class (which generates
the same sequence in a different manner).</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">permutations</span>
</pre></div>
</div>
<p>This is the sort of permutation used in the ringing of physical bells,
and does not produce permutations in lexicographical order. Rather, the
permutations differ from each other by exactly one inversion, and the
position at which the swapping occurs varies periodically in a simple
fashion. Consider the first few permutations of 4 elements generated
by <code class="docutils literal notranslate"><span class="pre">permutations</span></code> and <code class="docutils literal notranslate"><span class="pre">generate_bell</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">permutations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)))[:</span><span class="mi">5</span><span class="p">]</span>
<span class="go">[(0, 1, 2, 3), (0, 1, 3, 2), (0, 2, 1, 3), (0, 2, 3, 1), (0, 3, 1, 2)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">generate_bell</span><span class="p">(</span><span class="mi">4</span><span class="p">))[:</span><span class="mi">5</span><span class="p">]</span>
<span class="go">[(0, 1, 2, 3), (0, 1, 3, 2), (0, 3, 1, 2), (3, 0, 1, 2), (3, 0, 2, 1)]</span>
</pre></div>
</div>
<p>Notice how the 2nd and 3rd lexicographical permutations have 3 elements
out of place whereas each “bell” permutation always has only two
elements out of place relative to the previous permutation (and so the
signature (+/-1) of a permutation is opposite of the signature of the
previous permutation).</p>
<p>How the position of inversion varies across the elements can be seen
by tracing out where the largest number appears in the permutations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">generate_bell</span><span class="p">(</span><span class="mi">4</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="n">m</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">j</span> <span class="o">-</span> <span class="mi">3</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">p</span><span class="p">)])</span>  <span class="c1"># make largest zero</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">print_nonzero</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="go">[XXX  XXXXXX  XXXXXX  XXX]</span>
<span class="go">[XX XX XXXX XX XXXX XX XX]</span>
<span class="go">[X XXXX XX XXXX XX XXXX X]</span>
<span class="go">[ XXXXXX  XXXXXX  XXXXXX ]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../combinatorics/permutations.html#diofant.combinatorics.permutations.Permutation.next_trotterjohnson" title="diofant.combinatorics.permutations.Permutation.next_trotterjohnson"><code class="xref py py-func docutils literal notranslate"><span class="pre">diofant.combinatorics.permutations.Permutation.next_trotterjohnson()</span></code></a></p>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Method_ringing">https://en.wikipedia.org/wiki/Method_ringing</a></p></li>
<li><p><a class="reference external" href="https://stackoverflow.com/questions/4856615/recursive-permutation/4857018">https://stackoverflow.com/questions/4856615/recursive-permutation/4857018</a></p></li>
<li><p><a class="reference external" href="https://web.archive.org/web/20160324133718/http://programminggeeks.com/bell-algorithm-for-permutation/">https://web.archive.org/web/20160324133718/http://programminggeeks.com/bell-algorithm-for-permutation/</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Steinhaus%E2%80%93Johnson%E2%80%93Trotter_algorithm">https://en.wikipedia.org/wiki/Steinhaus%E2%80%93Johnson%E2%80%93Trotter_algorithm</a></p></li>
<li><p>Generating involutions, derangements, and relatives by ECO
Vincent Vajnovszki, DMTCS vol 1 issue 12, 2010</p></li>
</ul>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.generate_derangements">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">generate_derangements</code><span class="sig-paren">(</span><em class="sig-param">perm</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1690-L1721"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.generate_derangements" title="Permalink to this definition">¶</a></dt>
<dd><p>Routine to generate unique derangements.</p>
<p>TODO: This will be rewritten to use the
ECO operator approach once the permutations
branch is in master.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">generate_derangements</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
<span class="go">[[1, 2, 0], [2, 0, 1]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">generate_derangements</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
<span class="go">[[1, 0, 3, 2], [1, 2, 3, 0], [1, 3, 0, 2], [2, 0, 3, 1],</span>
<span class="go"> [2, 3, 0, 1], [2, 3, 1, 0], [3, 0, 1, 2], [3, 2, 0, 1],</span>
<span class="go"> [3, 2, 1, 0]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">generate_derangements</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../functions/combinatorial.html#diofant.functions.combinatorial.factorials.subfactorial" title="diofant.functions.combinatorial.factorials.subfactorial"><code class="xref py py-func docutils literal notranslate"><span class="pre">diofant.functions.combinatorial.factorials.subfactorial()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.generate_involutions">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">generate_involutions</code><span class="sig-paren">(</span><em class="sig-param">n</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1654-L1687"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.generate_involutions" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates involutions.</p>
<p>An involution is a permutation that when multiplied
by itself equals the identity permutation. In this
implementation the involutions are generated using
Fixed Points.</p>
<p>Alternatively, an involution can be considered as
a permutation that does not contain any cycles with
a length that is greater than two.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="http://mathworld.wolfram.com/PermutationInvolution.html">http://mathworld.wolfram.com/PermutationInvolution.html</a></p></li>
</ul>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">generate_involutions</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[(0, 1, 2), (0, 2, 1), (1, 0, 2), (2, 1, 0)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">generate_involutions</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
<span class="go">10</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.group">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">group</code><span class="sig-paren">(</span><em class="sig-param">seq</em>, <em class="sig-param">multiple=True</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L146-L185"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.group" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a sequence into a list of lists of equal, adjacent elements.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">group</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">[[1, 1, 1], [2, 2], [3]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">group</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[(1, 3), (2, 2), (3, 1)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">group</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[(1, 2), (3, 1), (2, 2), (1, 1)]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.utilities.iterables.multiset" title="diofant.utilities.iterables.multiset"><code class="xref py py-func docutils literal notranslate"><span class="pre">multiset()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.has_dups">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">has_dups</code><span class="sig-paren">(</span><em class="sig-param">seq</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1470-L1489"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.has_dups" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if there are any duplicate elements in <code class="docutils literal notranslate"><span class="pre">seq</span></code>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">has_dups</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">has_dups</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">all</span><span class="p">(</span><span class="n">has_dups</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">set</span><span class="p">(),</span> <span class="n">Set</span><span class="p">(),</span> <span class="nb">dict</span><span class="p">(),</span> <span class="n">Dict</span><span class="p">()))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.has_variety">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">has_variety</code><span class="sig-paren">(</span><em class="sig-param">seq</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1492-L1510"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.has_variety" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if there are any different elements in <code class="docutils literal notranslate"><span class="pre">seq</span></code>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">has_variety</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">has_variety</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.minlex">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">minlex</code><span class="sig-paren">(</span><em class="sig-param">seq</em>, <em class="sig-param">directed=True</em>, <em class="sig-param">is_set=False</em>, <em class="sig-param">small=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1773-L1844"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.minlex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple where the smallest element appears first; if
<code class="docutils literal notranslate"><span class="pre">directed</span></code> is True (default) then the order is preserved, otherwise
the sequence will be reversed if that gives a smaller ordering.</p>
<p>If every element appears only once then is_set can be set to True
for more efficient processing.</p>
<p>If the smallest element is known at the time of calling, it can be
passed and the calculation of the smallest element will be omitted.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">minlex</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">(0, 1, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">minlex</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">(0, 2, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">minlex</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">directed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(0, 1, 2)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">minlex</span><span class="p">(</span><span class="s1">&#39;11010011000&#39;</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;00011010011&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">minlex</span><span class="p">(</span><span class="s1">&#39;11010011000&#39;</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;00011001011&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.multiset">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">multiset</code><span class="sig-paren">(</span><em class="sig-param">seq</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L188-L207"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.multiset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the hashable sequence in multiset form with values being the
multiplicity of the item in the sequence.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multiset</span><span class="p">(</span><span class="s1">&#39;mississippi&#39;</span><span class="p">)</span>
<span class="go">{&#39;i&#39;: 4, &#39;m&#39;: 1, &#39;p&#39;: 2, &#39;s&#39;: 4}</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.utilities.iterables.group" title="diofant.utilities.iterables.group"><code class="xref py py-func docutils literal notranslate"><span class="pre">group()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.multiset_combinations">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">multiset_combinations</code><span class="sig-paren">(</span><em class="sig-param">m</em>, <em class="sig-param">n</em>, <em class="sig-param">g=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L750-L802"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.multiset_combinations" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the unique combinations of size <code class="docutils literal notranslate"><span class="pre">n</span></code> from multiset <code class="docutils literal notranslate"><span class="pre">m</span></code>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">combinations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span>  <span class="n">multiset_combinations</span><span class="p">(</span><span class="s1">&#39;baby&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="go">[&#39;abb&#39;, &#39;aby&#39;, &#39;bby&#39;]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span> <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
</pre></div>
</div>
<p>The number of combinations depends on the number of letters; the
number of unique combinations depends on how the letters are
repeated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="s1">&#39;abracadabra&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="s1">&#39;banana tree&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span><span class="p">(</span><span class="n">combinations</span><span class="p">,</span> <span class="n">s1</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="n">multiset_combinations</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
<span class="go">(165, 23)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span><span class="p">(</span><span class="n">combinations</span><span class="p">,</span> <span class="n">s2</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="n">multiset_combinations</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
<span class="go">(165, 54)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.multiset_partitions">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">multiset_partitions</code><span class="sig-paren">(</span><em class="sig-param">multiset</em>, <em class="sig-param">m=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L966-L1125"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.multiset_partitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return unique partitions of the given multiset (in list form).
If <code class="docutils literal notranslate"><span class="pre">m</span></code> is None, all multisets will be returned, otherwise only
partitions with <code class="docutils literal notranslate"><span class="pre">m</span></code> parts will be returned.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">multiset</span></code> is an integer, a range [0, 1, …, multiset - 1]
will be supplied.</p>
<p><em>Counting</em></p>
<p>The number of partitions of a set is given by the bell number:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span> <span class="o">==</span> <span class="n">bell</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="mi">52</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The number of partitions of length k from a set of size n is given by the
Stirling Number of the 2nd kind:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">S2</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
<span class="gp">... </span>    <span class="kn">from</span> <span class="nn">diofant</span> <span class="k">import</span> <span class="n">Dummy</span><span class="p">,</span> <span class="n">binomial</span><span class="p">,</span> <span class="n">factorial</span><span class="p">,</span> <span class="n">Sum</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">j</span> <span class="o">=</span> <span class="n">Dummy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">arg</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="n">j</span><span class="p">)</span><span class="o">*</span><span class="n">j</span><span class="o">**</span><span class="n">n</span><span class="o">*</span><span class="n">binomial</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">Sum</span><span class="p">(</span><span class="n">arg</span><span class="p">,(</span><span class="n">j</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">k</span><span class="p">))</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">15</span>
<span class="go">True</span>
</pre></div>
</div>
<p>These comments on counting apply to <em>sets</em>, not multisets.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[[[1, 2, 3], [4]], [[1, 2, 4], [3]], [[1, 2], [3, 4]],</span>
<span class="go">[[1, 3, 4], [2]], [[1, 3], [2, 4]], [[1, 4], [2, 3]],</span>
<span class="go">[[1], [2, 3, 4]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">[[[1, 2, 3, 4]]]</span>
</pre></div>
</div>
<p>Only unique partitions are returned and these will be returned in a
canonical order regardless of the order of the input:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">==</span> <span class="n">ans</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">==</span>
<span class="gp">... </span> <span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">a</span><span class="p">))))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If m is omitted then all partitions will be returned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
<span class="go">[[[1, 1, 2]], [[1, 1], [2]], [[1, 2], [1]], [[1], [1], [2]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">multiset_partitions</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[[[1, 1, 1]], [[1], [1, 1]], [[1], [1], [1]]]</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When all the elements are the same in the multiset, the order
of the returned partitions is determined by the <code class="docutils literal notranslate"><span class="pre">partitions</span></code>
routine. If one is counting partitions then it is better to use
the <code class="docutils literal notranslate"><span class="pre">nT</span></code> function.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#diofant.utilities.iterables.partitions" title="diofant.utilities.iterables.partitions"><code class="xref py py-func docutils literal notranslate"><span class="pre">partitions()</span></code></a>, <a class="reference internal" href="../combinatorics/partitions.html#diofant.combinatorics.partitions.Partition" title="diofant.combinatorics.partitions.Partition"><code class="xref py py-func docutils literal notranslate"><span class="pre">diofant.combinatorics.partitions.Partition()</span></code></a>, <a class="reference internal" href="../combinatorics/partitions.html#diofant.combinatorics.partitions.IntegerPartition" title="diofant.combinatorics.partitions.IntegerPartition"><code class="xref py py-func docutils literal notranslate"><span class="pre">diofant.combinatorics.partitions.IntegerPartition()</span></code></a>, <a class="reference internal" href="../functions/combinatorial.html#diofant.functions.combinatorial.numbers.nT" title="diofant.functions.combinatorial.numbers.nT"><code class="xref py py-func docutils literal notranslate"><span class="pre">diofant.functions.combinatorial.numbers.nT()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.multiset_permutations">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">multiset_permutations</code><span class="sig-paren">(</span><em class="sig-param">m</em>, <em class="sig-param">size=None</em>, <em class="sig-param">g=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L805-L849"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.multiset_permutations" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the unique permutations of multiset <code class="docutils literal notranslate"><span class="pre">m</span></code>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">multiset_permutations</span><span class="p">(</span><span class="s1">&#39;aab&#39;</span><span class="p">)]</span>
<span class="go">[&#39;aab&#39;, &#39;aba&#39;, &#39;baa&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">factorial</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39;banana&#39;</span><span class="p">))</span>
<span class="go">720</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">multiset_permutations</span><span class="p">(</span><span class="s1">&#39;banana&#39;</span><span class="p">)))</span>
<span class="go">60</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.necklaces">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">necklaces</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">k</em>, <em class="sig-param">free=False</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1724-L1765"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.necklaces" title="Permalink to this definition">¶</a></dt>
<dd><p>A routine to generate necklaces that may (free=True) or may not
(free=False) be turned over to be viewed. The “necklaces” returned
are comprised of <code class="docutils literal notranslate"><span class="pre">n</span></code> integers (beads) with <code class="docutils literal notranslate"><span class="pre">k</span></code> different
values (colors). Only unique necklaces are returned.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>The “unrestricted necklace” is sometimes also referred to as a
“bracelet” (an object that can be turned over, a sequence that can
be reversed) and the term “necklace” is used to imply a sequence
that cannot be reversed. So ACB == ABC for a bracelet (rotate and
reverse) while the two are different for a necklace since rotation
alone cannot make the two sequences the same.</p>
<p>(mnemonic: Bracelets can be viewed Backwards, but Not Necklaces.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="p">[</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">bracelets</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">necklaces</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">{&#39;ACB&#39;}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">necklaces</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[(0, 0, 0, 0), (0, 0, 0, 1), (0, 0, 1, 1),</span>
<span class="go"> (0, 1, 0, 1), (0, 1, 1, 1), (1, 1, 1, 1)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;.o&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">bracelets</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
<span class="go">[&#39;....&#39;, &#39;...o&#39;, &#39;..oo&#39;, &#39;.o.o&#39;, &#39;.ooo&#39;, &#39;oooo&#39;]</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://mathworld.wolfram.com/Necklace.html">http://mathworld.wolfram.com/Necklace.html</a></p>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.numbered_symbols">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">numbered_symbols</code><span class="sig-paren">(</span><em class="sig-param">prefix='x'</em>, <em class="sig-param">cls=None</em>, <em class="sig-param">start=0</em>, <em class="sig-param">exclude=[]</em>, <em class="sig-param">*args</em>, <em class="sig-param">**assumptions</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L385-L422"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.numbered_symbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an infinite stream of Symbols consisting of a prefix and
increasing subscripts provided that they do not occur in <span class="math notranslate nohighlight">\(exclude\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefix</strong> (<em>str, optional</em>) – The prefix to use. By default, this function will generate symbols of
the form “x0”, “x1”, etc.</p></li>
<li><p><strong>cls</strong> (<em>class, optional</em>) – The class to use. By default, it uses Symbol, but you can also use Wild or Dummy.</p></li>
<li><p><strong>start</strong> (<em>int, optional</em>) – The start number.  By default, it is 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>sym</strong> (<em>Symbol</em>) – The subscripted symbols.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.ordered_partitions">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">ordered_partitions</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">m=None</em>, <em class="sig-param">sort=True</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1278-L1410"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.ordered_partitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates ordered partitions of integer <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>``m``</strong> (<em>int or None, optional</em>) – By default (None) gives partitions of all sizes, else only
those with size m. In addition, if <code class="docutils literal notranslate"><span class="pre">m</span></code> is not None then
partitions are generated <em>in place</em> (see examples).</p></li>
<li><p><strong>``sort``</strong> (<em>bool, optional</em>) – Controls whether partitions are
returned in sorted order (default) when <code class="docutils literal notranslate"><span class="pre">m</span></code> is not None; when False,
the partitions are returned as fast as possible with elements
sorted, but when m|n the partitions will not be in
ascending lexicographical order.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>All partitions of 5 in ascending lexicographical:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ordered_partitions</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">[1, 1, 1, 1, 1]</span>
<span class="go">[1, 1, 1, 2]</span>
<span class="go">[1, 1, 3]</span>
<span class="go">[1, 2, 2]</span>
<span class="go">[1, 4]</span>
<span class="go">[2, 3]</span>
<span class="go">[5]</span>
</pre></div>
</div>
<p>Only partitions of 5 with two parts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ordered_partitions</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">[1, 4]</span>
<span class="go">[2, 3]</span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">m</span></code> is given, a given list objects will be used more than
once for speed reasons so you will not see the correct partitions
unless you make a copy of each as it is generated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ordered_partitions</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="go">[[1, 1, 1], [1, 1, 1], [1, 1, 1], [2, 2, 2]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ordered_partitions</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="go">[[1, 1, 5], [1, 2, 4], [1, 3, 3], [2, 2, 3]]</span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">n</span></code> is a multiple of <code class="docutils literal notranslate"><span class="pre">m</span></code>, the elements are still sorted
but the partitions themselves will be <em>unordered</em> if sort is False;
the default is to return them in ascending lexicographical order.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ordered_partitions</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">[1, 5]</span>
<span class="go">[2, 4]</span>
<span class="go">[3, 3]</span>
</pre></div>
</div>
<p>But if speed is more important than ordering, sort can be set to
False:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ordered_partitions</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">[1, 5]</span>
<span class="go">[3, 3]</span>
<span class="go">[2, 4]</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>Generating Integer Partitions, [online],
Available: <a class="reference external" href="http://jeromekelleher.net/generating-integer-partitions.html">http://jeromekelleher.net/generating-integer-partitions.html</a></p></li>
<li><p>Jerome Kelleher and Barry O’Sullivan, “Generating All
Partitions: A Comparison Of Two Encodings”, [online],
Available: <a class="reference external" href="https://arxiv.org/pdf/0909.2331v2.pdf">https://arxiv.org/pdf/0909.2331v2.pdf</a></p></li>
</ul>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.partitions">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">partitions</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">m=None</em>, <em class="sig-param">k=None</em>, <em class="sig-param">size=False</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1128-L1275"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.partitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all partitions of positive integer, n.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>``m``</strong> (<em>integer (default gives partitions of all sizes)</em>) – limits number of parts in partition (mnemonic: m, maximum parts).
Default value, None, gives partitions from 1 through n.</p></li>
<li><p><strong>``k``</strong> (<em>integer (default gives partitions number from 1 through n)</em>) – limits the numbers that are kept in the partition (mnemonic: k, keys)</p></li>
<li><p><strong>``size``</strong> (<em>bool (default False, only partition is returned)</em>) – when <code class="docutils literal notranslate"><span class="pre">True</span></code> then (M, P) is returned where M is the sum of the
multiplicities and P is the generated partition.</p></li>
<li><p><strong>Each partition is represented as a dictionary, mapping an integer</strong></p></li>
<li><p><strong>to the number of copies of that integer in the partition.  For example,</strong></p></li>
<li><p><strong>the first partition of 4 returned is {4</strong> (<em>1}, “4: one of them”.</em>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The numbers appearing in the partition (the key of the returned dict)
are limited with k:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.utilities.iterables</span> <span class="k">import</span> <span class="n">partitions</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">partitions</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>  
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">{2: 3}</span>
<span class="go">{1: 2, 2: 2}</span>
<span class="go">{1: 4, 2: 1}</span>
<span class="go">{1: 6}</span>
</pre></div>
</div>
<p>The maximum number of parts in the partition (the sum of the values in
the returned dict) are limited with m:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">partitions</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>  
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">{6: 1}</span>
<span class="go">{1: 1, 5: 1}</span>
<span class="go">{2: 1, 4: 1}</span>
<span class="go">{3: 2}</span>
</pre></div>
</div>
<p>Note that the _same_ dictionary object is returned each time.
This is for speed:  generating each partition goes quickly,
taking constant time, independent of n.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">partitions</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)]</span>
<span class="go">[{1: 6}, {1: 6}, {1: 6}, {1: 6}]</span>
</pre></div>
</div>
<p>If you want to build a list of the returned dictionaries then
make a copy of them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">partitions</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)]</span>  
<span class="go">[{2: 3}, {1: 2, 2: 2}, {1: 4, 2: 1}, {1: 6}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">M</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span> <span class="k">for</span> <span class="n">M</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">partitions</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>  
<span class="go">[(3, {2: 3}), (4, {1: 2, 2: 2}), (5, {1: 4, 2: 1}), (6, {1: 6})]</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="http://code.activestate.com/recipes/218332-generator-for-integer-partitions/">http://code.activestate.com/recipes/218332-generator-for-integer-partitions/</a></p></li>
</ul>
<p class="rubric">Notes</p>
<p>Modified from Tim Peter’s version to allow for k and m values.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../combinatorics/partitions.html#diofant.combinatorics.partitions.Partition" title="diofant.combinatorics.partitions.Partition"><code class="xref py py-func docutils literal notranslate"><span class="pre">diofant.combinatorics.partitions.Partition()</span></code></a>, <a class="reference internal" href="../combinatorics/partitions.html#diofant.combinatorics.partitions.IntegerPartition" title="diofant.combinatorics.partitions.IntegerPartition"><code class="xref py py-func docutils literal notranslate"><span class="pre">diofant.combinatorics.partitions.IntegerPartition()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.permute_signs">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">permute_signs</code><span class="sig-paren">(</span><em class="sig-param">t</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1920-L1933"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.permute_signs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return iterator in which the signs of non-zero elements
of t are permuted.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">permute_signs</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="go">[(0, 1, 2), (0, -1, 2), (0, 1, -2), (0, -1, -2)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.postfixes">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">postfixes</code><span class="sig-paren">(</span><em class="sig-param">seq</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L582-L596"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.postfixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all postfixes of a sequence.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">postfixes</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]))</span>
<span class="go">[[4], [3, 4], [2, 3, 4], [1, 2, 3, 4]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.postorder_traversal">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">postorder_traversal</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">keys=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L210-L262"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.postorder_traversal" title="Permalink to this definition">¶</a></dt>
<dd><p>Do a postorder traversal of a tree.</p>
<p>This generator recursively yields nodes that it has visited in a postorder
fashion. That is, it descends through the tree depth-first to yield all of
a node’s children’s postorder traversal before yielding the node itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<em>diofant expression</em>) – The expression to traverse.</p></li>
<li><p><strong>keys</strong> (<em>(default None) sort key(s)</em>) – The key(s) used to sort args of Basic objects. When None, args of Basic
objects are processed in arbitrary order. If key is defined, it will
be passed along to ordered() as the only key(s) to use to sort the
arguments; if <code class="docutils literal notranslate"><span class="pre">key</span></code> is simply True then the default keys of
<code class="docutils literal notranslate"><span class="pre">ordered</span></code> will be used (node count and default_sort_key).</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><strong>subtree</strong> (<em>diofant expression</em>) – All of the subtrees in the tree.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.abc</span> <span class="k">import</span> <span class="n">w</span>
</pre></div>
</div>
<p>The nodes are returned in the order that they are encountered unless key
is given; simply passing key=True will guarantee that the traversal is
unique.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">postorder_traversal</span><span class="p">(</span><span class="n">w</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">z</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">[w, z, x, y, x + y, z*(x + y), w + z*(x + y)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.prefixes">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">prefixes</code><span class="sig-paren">(</span><em class="sig-param">seq</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L565-L579"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.prefixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all prefixes of a sequence.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">prefixes</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]))</span>
<span class="go">[[1], [1, 2], [1, 2, 3], [1, 2, 3, 4]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.reshape">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">reshape</code><span class="sig-paren">(</span><em class="sig-param">seq</em>, <em class="sig-param">how</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L87-L143"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.reshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Reshape the sequence according to the template in <code class="docutils literal notranslate"><span class="pre">how</span></code>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">seq</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reshape</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="c1"># lists of 4</span>
<span class="go">[[1, 2, 3, 4], [5, 6, 7, 8]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reshape</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,))</span> <span class="c1"># tuples of 4</span>
<span class="go">[(1, 2, 3, 4), (5, 6, 7, 8)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reshape</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="c1"># tuples of 4</span>
<span class="go">[(1, 2, 3, 4), (5, 6, 7, 8)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reshape</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">]))</span> <span class="c1"># (i, i, [i, i])</span>
<span class="go">[(1, 2, [3, 4]), (5, 6, [7, 8])]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reshape</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="p">((</span><span class="mi">2</span><span class="p">,),</span> <span class="p">[</span><span class="mi">2</span><span class="p">]))</span> <span class="c1"># etc....</span>
<span class="go">[((1, 2), [3, 4]), ((5, 6), [7, 8])]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reshape</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">[(1, [2, 3], 4), (5, [6, 7], 8)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reshape</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">seq</span><span class="p">),</span> <span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)],))</span>
<span class="go">(([[1], 2, (3, 4)],), ([[5], 6, (7, 8)],))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reshape</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">seq</span><span class="p">),</span> <span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)))</span>
<span class="go">(([1], 2, (3, 4)), ([5], 6, (7, 8)))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reshape</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">)),</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">{</span><span class="mi">2</span><span class="p">},</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,),</span> <span class="mi">1</span><span class="p">)])</span>
<span class="go">[[0, 1, [2, 3, 4], {5, 6}, (7, (8, 9, 10), 11)]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.rotate_left">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">rotate_left</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L712-L728"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.rotate_left" title="Permalink to this definition">¶</a></dt>
<dd><p>Left rotates a list x by the number of steps specified
in y.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rotate_left</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[1, 2, 0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.rotate_right">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">rotate_right</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L731-L747"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.rotate_right" title="Permalink to this definition">¶</a></dt>
<dd><p>Right rotates a list x by the number of steps specified
in y.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rotate_right</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[2, 0, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.runs">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">runs</code><span class="sig-paren">(</span><em class="sig-param">seq</em>, <em class="sig-param">op=&lt;built-in function gt&gt;</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1847-L1880"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.runs" title="Permalink to this definition">¶</a></dt>
<dd><p>Group the sequence into lists in which successive elements
all compare the same with the comparison operator, <code class="docutils literal notranslate"><span class="pre">op</span></code>:
op(seq[i + 1], seq[i]) is True from all elements in a run.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">operator</span> <span class="k">import</span> <span class="n">ge</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">runs</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">[[0, 1, 2], [2], [1, 4], [3], [2], [2]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">runs</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">op</span><span class="o">=</span><span class="n">ge</span><span class="p">)</span>
<span class="go">[[0, 1, 2, 2], [1, 4], [3], [2, 2]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.sift">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">sift</code><span class="sig-paren">(</span><em class="sig-param">seq</em>, <em class="sig-param">keyfunc</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L452-L496"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.sift" title="Permalink to this definition">¶</a></dt>
<dd><p>Sift the sequence, <code class="docutils literal notranslate"><span class="pre">seq</span></code> into a dictionary according to keyfunc.</p>
<p>OUTPUT: each element in expr is stored in a list keyed to the value
of keyfunc for the element.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">defaultdict</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sift</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
<span class="go">True</span>
</pre></div>
</div>
<p>sift() returns a defaultdict() object, so any key that has no matches will
give [].</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dl</span> <span class="o">=</span> <span class="n">sift</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">is_commutative</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dl</span> <span class="o">==</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="p">{</span><span class="kc">True</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="p">]})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dl</span><span class="p">[</span><span class="kc">False</span><span class="p">]</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Sometimes you won’t know how many keys you will get:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sift</span><span class="p">([</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="o">**</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>     <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">as_base_exp</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span>
<span class="gp">... </span>     <span class="p">{</span><span class="n">E</span><span class="p">:</span> <span class="p">[</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)],</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)],</span> <span class="n">y</span><span class="p">:</span> <span class="p">[</span><span class="n">y</span><span class="o">**</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)]})</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If you need to sort the sifted items it might be better to use
<code class="docutils literal notranslate"><span class="pre">ordered</span></code> which can economically apply multiple sort keys
to a squence while sorting.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../core.html#diofant.core.compatibility.ordered" title="diofant.core.compatibility.ordered"><code class="xref py py-func docutils literal notranslate"><span class="pre">diofant.core.compatibility.ordered()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.signed_permutations">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">signed_permutations</code><span class="sig-paren">(</span><em class="sig-param">t</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1936-L1952"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.signed_permutations" title="Permalink to this definition">¶</a></dt>
<dd><p>Return iterator in which the signs of non-zero elements
of t and the order of the elements are permuted.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">signed_permutations</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="go">[(0, 1, 2), (0, -1, 2), (0, 1, -2), (0, -1, -2), (0, 2, 1),</span>
<span class="go"> (0, -2, 1), (0, 2, -1), (0, -2, -1), (1, 0, 2), (-1, 0, 2),</span>
<span class="go"> (1, 0, -2), (-1, 0, -2), (1, 2, 0), (-1, 2, 0), (1, -2, 0),</span>
<span class="go"> (-1, -2, 0), (2, 0, 1), (-2, 0, 1), (2, 0, -1), (-2, 0, -1),</span>
<span class="go"> (2, 1, 0), (-2, 1, 0), (2, -1, 0), (-2, -1, 0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.subsets">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">subsets</code><span class="sig-paren">(</span><em class="sig-param">seq</em>, <em class="sig-param">k=None</em>, <em class="sig-param">repetition=False</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L307-L356"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.subsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates all k-subsets (combinations) from an n-element set, seq.</p>
<p>A k-subset of an n-element set is any subset of length exactly k. The
number of k-subsets of an n-element set is given by binomial(n, k),
whereas there are 2**n subsets all together. If k is None then all
2**n subsets will be returned from shortest to longest.</p>
<p class="rubric">Examples</p>
<p>subsets(seq, k) will return the n!/k!/(n - k)! k-subsets (combinations)
without repetition, i.e. once an item has been removed, it can no
longer be “taken”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">diofant.utilities.iterables</span> <span class="k">import</span> <span class="n">subsets</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">subsets</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[(1, 2)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">subsets</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
<span class="go">[(), (1,), (2,), (1, 2)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">subsets</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[(1, 2), (1, 3), (2, 3)]</span>
</pre></div>
</div>
<p>subsets(seq, k, repetition=True) will return the (n - 1 + k)!/k!/(n - 1)!
combinations <em>with</em> repetition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">subsets</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="n">repetition</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">[(1, 1), (1, 2), (2, 2)]</span>
</pre></div>
</div>
<p>If you ask for more items than are in the set you get the empty set unless
you allow repetitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">subsets</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="n">repetition</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">subsets</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="n">repetition</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">[(0, 0, 0), (0, 0, 1), (0, 1, 1), (1, 1, 1)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.topological_sort">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">topological_sort</code><span class="sig-paren">(</span><em class="sig-param">graph</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L599-L709"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.topological_sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Topological sort of graph’s vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>``graph``</strong> (<code class="docutils literal notranslate"><span class="pre">tuple[list,</span> <span class="pre">list[tuple[T,</span> <span class="pre">T]]</span></code>) – A tuple consisting of a list of vertices and a list of edges of
a graph to be sorted topologically.</p></li>
<li><p><strong>``key``</strong> (<code class="docutils literal notranslate"><span class="pre">callable[T]</span></code> (optional)) – Ordering key for vertices on the same level. By default the natural
(e.g. lexicographic) ordering is used (in this case the base type
must implement ordering relations).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Consider a graph:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+---+</span>     <span class="o">+---+</span>     <span class="o">+---+</span>
<span class="o">|</span> <span class="mi">7</span> <span class="o">|</span>\    <span class="o">|</span> <span class="mi">5</span> <span class="o">|</span>     <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>
<span class="o">+---+</span> \   <span class="o">+---+</span>     <span class="o">+---+</span>
  <span class="o">|</span>   <span class="n">_</span>\<span class="n">___</span><span class="o">/</span> <span class="n">____</span>   <span class="n">_</span><span class="o">/</span> <span class="o">|</span>
  <span class="o">|</span>  <span class="o">/</span>  \<span class="n">___</span><span class="o">/</span>    \ <span class="o">/</span>   <span class="o">|</span>
  <span class="n">V</span>  <span class="n">V</span>           <span class="n">V</span> <span class="n">V</span>   <span class="o">|</span>
 <span class="o">+----+</span>         <span class="o">+---+</span>  <span class="o">|</span>
 <span class="o">|</span> <span class="mi">11</span> <span class="o">|</span>         <span class="o">|</span> <span class="mi">8</span> <span class="o">|</span>  <span class="o">|</span>
 <span class="o">+----+</span>         <span class="o">+---+</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="o">|</span> \<span class="n">____</span>   <span class="n">___</span><span class="o">/</span> <span class="n">_</span>   <span class="o">|</span>
  <span class="o">|</span> \      \ <span class="o">/</span>    <span class="o">/</span> \  <span class="o">|</span>
  <span class="n">V</span>  \     <span class="n">V</span> <span class="n">V</span>   <span class="o">/</span>  <span class="n">V</span>  <span class="n">V</span>
<span class="o">+---+</span> \   <span class="o">+---+</span> <span class="o">|</span>  <span class="o">+----+</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span> <span class="mi">9</span> <span class="o">|</span> <span class="o">|</span>  <span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>
<span class="o">+---+</span>  <span class="o">|</span>  <span class="o">+---+</span> <span class="o">|</span>  <span class="o">+----+</span>
       \<span class="n">________</span><span class="o">/</span>
</pre></div>
</div>
<p>where vertices are integers. This graph can be encoded using
elementary Python’s data structures as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">V</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">E</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">... </span>     <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">)]</span>
</pre></div>
</div>
<p>To compute a topological sort for graph <code class="docutils literal notranslate"><span class="pre">(V,</span> <span class="pre">E)</span></code> issue:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">topological_sort</span><span class="p">((</span><span class="n">V</span><span class="p">,</span> <span class="n">E</span><span class="p">))</span>
<span class="go">[3, 5, 7, 8, 11, 2, 9, 10]</span>
</pre></div>
</div>
<p>If specific tie breaking approach is needed, use <code class="docutils literal notranslate"><span class="pre">key</span></code> parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">topological_sort</span><span class="p">((</span><span class="n">V</span><span class="p">,</span> <span class="n">E</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="o">-</span><span class="n">v</span><span class="p">)</span>
<span class="go">[7, 5, 11, 3, 10, 8, 9, 2]</span>
</pre></div>
</div>
<p>Only acyclic graphs can be sorted. If the input graph has a cycle,
then ValueError will be raised:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">topological_sort</span><span class="p">((</span><span class="n">V</span><span class="p">,</span> <span class="n">E</span> <span class="o">+</span> <span class="p">[(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">cycle detected</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Topological_sorting">https://en.wikipedia.org/wiki/Topological_sorting</a></p></li>
</ul>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.unflatten">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">unflatten</code><span class="sig-paren">(</span><em class="sig-param">iter</em>, <em class="sig-param">n=2</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L77-L84"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.unflatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Group <code class="docutils literal notranslate"><span class="pre">iter</span></code> into tuples of length <code class="docutils literal notranslate"><span class="pre">n</span></code>. Raise an error if
the length of <code class="docutils literal notranslate"><span class="pre">iter</span></code> is not a multiple of <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.uniq">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">uniq</code><span class="sig-paren">(</span><em class="sig-param">seq</em>, <em class="sig-param">result=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L1513-L1549"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.uniq" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield unique elements from <code class="docutils literal notranslate"><span class="pre">seq</span></code> as an iterator. The second
parameter <code class="docutils literal notranslate"><span class="pre">result</span></code>  is used internally; it is not necessary to pass
anything for this.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dat</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">uniq</span><span class="p">(</span><span class="n">dat</span><span class="p">))</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">uniq</span><span class="p">(</span><span class="n">dat</span><span class="p">))</span>
<span class="go">[1, 4, 5, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">uniq</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dat</span><span class="p">))</span>
<span class="go">[1, 4, 5, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">uniq</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]))</span>
<span class="go">[[1], [2, 1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="diofant.utilities.iterables.variations">
<code class="sig-prename descclassname">diofant.utilities.iterables.</code><code class="sig-name descname">variations</code><span class="sig-paren">(</span><em class="sig-param">seq</em>, <em class="sig-param">n</em>, <em class="sig-param">repetition=False</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/diofant/diofant/blob/master/diofant/utilities/iterables.py#L265-L304"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#diofant.utilities.iterables.variations" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator of the n-sized variations of <code class="docutils literal notranslate"><span class="pre">seq</span></code> (size N).
<code class="docutils literal notranslate"><span class="pre">repetition</span></code> controls whether items in <code class="docutils literal notranslate"><span class="pre">seq</span></code> can appear more than once;</p>
<p class="rubric">Examples</p>
<p>variations(seq, n) will return N! / (N - n)! permutations without
repetition of seq’s elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">variations</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[(1, 2), (2, 1)]</span>
</pre></div>
</div>
<p>variations(seq, n, True) will return the N**n permutations obtained
by allowing repetition of elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">variations</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="n">repetition</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">[(1, 1), (1, 2), (2, 1), (2, 2)]</span>
</pre></div>
</div>
<p>If you ask for more items than are in the set you get the empty set unless
you allow repetitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">variations</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="n">repetition</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">variations</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="n">repetition</span><span class="o">=</span><span class="kc">True</span><span class="p">))[:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">[(0, 0, 0), (0, 0, 1), (0, 1, 0), (0, 1, 1)]</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lambdify.html" class="btn btn-neutral float-right" title="Lambdify" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="enumerative.html" class="btn btn-neutral float-left" title="Enumerative" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2006-2018 SymPy Development Team, 2013-2019 Sergey B Kirpichev

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-147167689-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>